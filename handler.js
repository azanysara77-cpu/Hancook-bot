import fs from 'fs';
import path from 'path';
import { startTime } from './index.js';
import { Sticker, StickerTypes } from 'wa-sticker-formatter';
import { downloadContentFromMessage } from '@whiskeysockets/baileys';

const DATA_DIR = './data';
const USERS_DB = path.join(DATA_DIR, 'users.json');
const GAMES_DB = path.join(DATA_DIR, 'games.json');
const AUTH_DB = path.join(DATA_DIR, 'authorized.json');
const SETTINGS_DB = path.join(DATA_DIR, 'settings.json');
const STATS_DB = path.join(DATA_DIR, 'stats.json');
const REPLIES_DB = path.join(DATA_DIR, 'replies.json');
const SHOP_DB = path.join(DATA_DIR, 'shop.json');
const ACTIVITY_STATS_DB = path.join(DATA_DIR, 'activity_stats.json');

function initDB() {
    if (!fs.existsSync(DATA_DIR)) fs.mkdirSync(DATA_DIR, { recursive: true });
    if (!fs.existsSync(USERS_DB)) fs.writeFileSync(USERS_DB, JSON.stringify({}));
    if (!fs.existsSync(GAMES_DB)) fs.writeFileSync(GAMES_DB, JSON.stringify({}));
    if (!fs.existsSync(AUTH_DB)) fs.writeFileSync(AUTH_DB, JSON.stringify([]));
    if (!fs.existsSync(SETTINGS_DB)) fs.writeFileSync(SETTINGS_DB, JSON.stringify({ active: true, zikrActive: true, zikrGroups: [], scratchCodes: [], lastCodeUpdate: 0, rewardGroups: [], stickerPack: 'Hancook-Bot', stickerAuthor: 'Hancook' }));
    if (!fs.existsSync(STATS_DB)) fs.writeFileSync(STATS_DB, JSON.stringify({ date: new Date().toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'}), users: {} }));
    if (!fs.existsSync(REPLIES_DB)) fs.writeFileSync(REPLIES_DB, JSON.stringify({}));
    if (!fs.existsSync(SHOP_DB)) fs.writeFileSync(SHOP_DB, JSON.stringify({ reservations: {} }));
}

const getDB = (file) => { initDB(); try { return JSON.parse(fs.readFileSync(file, 'utf-8')); } catch { return file.endsWith('json') ? {} : []; } };
const saveDB = (file, data) => fs.writeFileSync(file, JSON.stringify(data, null, 2));

const footer = "\n*ã€ğ‘¯ğ’‚ğ’ğ’„ğ’ğ’„ğ’ŒâŠ°â„ï¸âŠ±ğ’ƒğ’ğ’•ã€*";
const BANK_CAP = 999999999999999999;

const azkar = [
    "ğŸŒ¿ Ø³ÙØ¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³ÙØ¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ….",
    "ğŸŒ¿ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… ØµÙ„ÙÙ‘ ÙˆØ³Ù„Ù… Ø¹Ù„Ù‰ Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯.",
    "ğŸŒ¿ Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡.",
    "ğŸŒ¿ Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ù„ÙŠ Ø§Ù„Ø¹Ø¸ÙŠÙ….",
    "ğŸŒ¿ Ø³ÙØ¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±.",
    "ğŸŒ¿ Ø±Ø¨ÙŠ Ø§ØºÙØ± Ù„ÙŠ ÙˆÙ„ÙˆØ§Ù„Ø¯ÙŠ ÙˆÙ„Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† ÙˆØ§Ù„Ù…Ø¤Ù…Ù†Ø§Øª.",
    "ğŸŒ¿ Ø­Ø³Ø¨ÙŠ Ø§Ù„Ù„Ù‡ ÙˆÙ†Ø¹Ù… Ø§Ù„ÙˆÙƒÙŠÙ„.",
    "ğŸŒ¿ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª Ø³Ø¨Ø­Ø§Ù†Ùƒ Ø¥Ù†ÙŠ ÙƒÙ†Øª Ù…Ù† Ø§Ù„Ø¸Ø§Ù„Ù…ÙŠÙ†.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†Ùƒ Ø¹ÙÙˆ ÙƒØ±ÙŠÙ… ØªØ­Ø¨ Ø§Ù„Ø¹ÙÙˆ ÙØ§Ø¹ÙÙ Ø¹Ù†Ø§.",
    "ğŸŒ¿ ÙŠØ§ Ø­ÙŠ ÙŠØ§ Ù‚ÙŠÙˆÙ… Ø¨Ø±Ø­Ù…ØªÙƒ Ø£Ø³ØªØºÙŠØ«.",
    "ğŸŒ¿ Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ø§Ù‹ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ø§Ù‹ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù†Ø¨ÙŠØ§Ù‹.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… Ø¢ØªÙ†Ø§ ÙÙŠ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø­Ø³Ù†Ø© ÙˆÙÙŠ Ø§Ù„Ø¢Ø®Ø±Ø© Ø­Ø³Ù†Ø© ÙˆÙ‚Ù†Ø§ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù†Ø§Ø±.",
    "ğŸŒ¿ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ Ø¹Ø¯Ø¯ Ø®Ù„Ù‚Ù‡ØŒ ÙˆØ±Ø¶Ø§ Ù†ÙØ³Ù‡ØŒ ÙˆØ²Ù†Ø© Ø¹Ø±Ø´Ù‡ØŒ ÙˆÙ…Ø¯Ø§Ø¯ ÙƒÙ„Ù…Ø§ØªÙ‡.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… Ø§ÙƒÙÙ†ÙŠ Ø¨Ø­Ù„Ø§Ù„Ùƒ Ø¹Ù† Ø­Ø±Ø§Ù…ÙƒØŒ ÙˆØ£ØºÙ†Ù†ÙŠ Ø¨ÙØ¶Ù„Ùƒ Ø¹Ù…Ù† Ø³ÙˆØ§Ùƒ.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø§Ù„Ù‡Ø¯Ù‰ ÙˆØ§Ù„ØªÙ‚Ù‰ ÙˆØ§Ù„Ø¹ÙØ§Ù ÙˆØ§Ù„ØºÙ†Ù‰.",
    "ğŸŒ¿ ÙŠØ§ Ù…Ù‚Ù„Ø¨ Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø«Ø¨Øª Ù‚Ù„Ø¨ÙŠ Ø¹Ù„Ù‰ Ø¯ÙŠÙ†Ùƒ.",
    "ğŸŒ¿ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø­Ù…Ø¯Ø§Ù‹ ÙƒØ«ÙŠØ±Ø§Ù‹ Ø·ÙŠØ¨Ø§Ù‹ Ù…Ø¨Ø§Ø±ÙƒØ§Ù‹ ÙÙŠÙ‡.",
    "ğŸŒ¿ Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø¹Ù„Ù…Ø§Ù‹ Ù†Ø§ÙØ¹Ø§Ù‹ØŒ ÙˆØ±Ø²Ù‚Ø§Ù‹ Ø·ÙŠØ¨Ø§Ù‹ØŒ ÙˆØ¹Ù…Ù„Ø§Ù‹ Ù…ØªÙ‚Ø¨Ù„Ø§Ù‹.",
    "ğŸŒ¿ Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø°ÙŠ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ù‡Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ù‚ÙŠÙˆÙ… ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡."
];

const shopItems = [
    { id: 1, name: "ğŸ‘ï¸ Ø´Ø§Ø±ÙŠÙ†ØºØ§Ù†", price: 15000 },
    { id: 2, name: "ğŸ”® ÙƒØ±Ø§Øª Ø¯Ø±Ø§ØºÙˆÙ† Ø¨ÙˆÙ„", price: 45000 },
    { id: 3, name: "ğŸ ÙØ§ÙƒÙ‡Ø© Ø´ÙŠØ·Ø§Ù†", price: 35000 },
    { id: 4, name: "âš”ï¸ Ø³ÙŠÙ Ø²ÙˆØ±Ùˆ (Ø¥Ù†Ù…Ø§)", price: 25000 },
    { id: 5, name: "ğŸŒ€ Ø¹ÙŠÙ† Ø§Ù„Ø±ÙŠÙ†ØºØ§Ù†", price: 50000 },
    { id: 6, name: "ğŸ›¡ï¸ Ø¯Ø±Ø¹ Ø§Ù„Ø³Ø§Ù…ÙˆØ±Ø§ÙŠ", price: 10000 },
    { id: 7, name: "ğŸï¸ Ø³ÙŠØ§Ø±Ø© Ø±ÙŠØ§Ø¶ÙŠØ©", price: 100000 },
    { id: 8, name: "ğŸ° Ù‚ØµØ± Ù…Ù„ÙƒÙŠ", price: 500000 },
    { id: 9, name: "ğŸ“± Ø¢ÙŠÙÙˆÙ† 15 Ø¨Ø±Ùˆ", price: 15000 },
    { id: 10, name: "âŒš Ø³Ø§Ø¹Ø© Ø±ÙˆÙ„ÙƒØ³", price: 25000 }
];

const jobs = ["Ø·ÙŠØ§Ø±", "Ù…Ø¨Ø±Ù…Ø¬", "Ø·Ø¨ÙŠØ¨", "Ù…Ù‡Ù†Ø¯Ø³", "Ø¹Ø§Ù…Ù„", "ØªØ§Ø¬Ø±", "Ù…Ø¯Ø±Ø³"];
const animeChars = ["Ù†Ø§Ø±ÙˆØªÙˆ", "Ù„ÙˆÙÙŠ", "Ø²ÙˆØ±Ùˆ", "Ø³Ø§Ù†Ø¬ÙŠ", "Ø¥ÙŠØªØ§ØªØ´ÙŠ", "Ù„ÙŠÙØ§ÙŠ", "Ù…ÙŠÙƒØ§Ø³Ø§", "Ø¥ÙŠØ±ÙŠÙ†", "ØºÙˆÙƒÙˆ", "ÙÙŠØ¬ÙŠØªØ§", "Ø±ÙŠÙƒ", "Ø¯ÙŠØ±ÙŠÙ„", "Ù†ÙŠØºØ§Ù†", "Ù…ÙŠØ´ÙˆÙ†", "Ù‡Ø§Ù†ÙƒÙˆÙƒ", "Ø³Ø§Ø³ÙƒÙŠ", "Ù…Ø§Ø¯Ø§Ø±Ø§", "ÙƒØ§ÙƒØ§Ø´ÙŠ", "ØºØ§Ø±Ø§", "Ù‡ÙŠÙ†Ø§ØªØ§", "Ù†Ø§Ù…ÙŠ", "Ø±ÙˆØ¨ÙŠÙ†", "Ø§ÙŠØ³", "Ø³Ø§Ø¨Ùˆ", "ØªÙŠØªØ´", "Ø´Ø§Ù†ÙƒØ³", "Ø¯ÙˆÙÙ„Ø§Ù…ÙŠÙ†ØºÙˆ", "Ù„Ø§Ùˆ", "ÙƒÙŠØ¯", "Ø¨Ø§ØºÙŠ", "ØºÙˆÙ†", "ÙƒÙŠÙ„ÙˆØ§", "ÙƒÙˆØ±Ø§Ø¨ÙŠÙƒØ§", "ÙŠÙˆØ±ÙŠÙˆ", "Ù‡ÙŠØ³ÙˆÙƒØ§", "Ù†ÙŠØªÙŠØ±Ùˆ", "Ù…ÙŠØ±ÙˆÙŠÙ…", "Ø³Ø§ÙŠØªØ§Ù…Ø§", "Ø¬ÙŠÙ†ÙˆØ³", "ØªØ§ØªØ³ÙˆÙ…Ø§ÙƒÙŠ", "ØªØ§Ù†Ø¬ÙŠØ±Ùˆ", "Ù†ÙŠØ²ÙˆÙƒÙˆ", "Ø²ÙŠÙ†ÙŠØªØ³Ùˆ", "Ø¥ÙŠÙ†ÙˆØ³ÙƒÙŠ", "Ø±ÙŠÙ†ØºÙˆÙƒÙˆ", "Ù…ÙˆØ²Ø§Ù†", "ØºÙŠÙˆ", "Ø´ÙŠÙ†ÙˆØ¨Ùˆ", "ÙƒØ§Ù†Ø±ÙˆØ¬ÙŠ", "Ø£ÙˆØ²ÙˆÙŠ", "ØºÙ„ÙŠÙ†", "ÙƒØ§Ø±Ù„", "Ø´ÙŠÙ†", "Ù…Ø§ØºÙŠ", "Ø³Ø§Ø´Ø§", "Ø£Ø¨Ø±Ø§Ù‡Ø§Ù…", "ÙŠÙˆØ¬ÙŠÙ†", "Ø±ÙˆØ²ÙŠØªØ§", "Ø¬ÙˆØ¯ÙŠØ«", "Ø£Ù„ÙØ§"];

const flagsData = { "ğŸ‡¾ğŸ‡ª": "Ø§Ù„ÙŠÙ…Ù†", "ğŸ‡¸ğŸ‡¦": "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©", "ğŸ‡ªğŸ‡¬": "Ù…ØµØ±", "ğŸ‡µğŸ‡¸": "ÙÙ„Ø³Ø·ÙŠÙ†", "ğŸ‡²ğŸ‡¦": "Ø§Ù„Ù…ØºØ±Ø¨", "ğŸ‡¶ğŸ‡¦": "Ù‚Ø·Ø±", "ğŸ‡¦ğŸ‡ª": "Ø§Ù„Ø§Ù…Ø§Ø±Ø§Øª", "ğŸ‡°ğŸ‡¼": "Ø§Ù„ÙƒÙˆÙŠØª", "ğŸ‡¯ğŸ‡µ": "Ø§Ù„ÙŠØ§Ø¨Ø§Ù†", "ğŸ‡§ğŸ‡·": "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "ğŸ‡©ğŸ‡¿": "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±", "ğŸ‡®ğŸ‡¶": "Ø§Ù„Ø¹Ø±Ø§Ù‚", "ğŸ‡¸ğŸ‡¾": "Ø³ÙˆØ±ÙŠØ§", "ğŸ‡±ğŸ‡§": "Ù„Ø¨Ù†Ø§Ù†", "ğŸ‡¯ğŸ‡´": "Ø§Ù„Ø§Ø±Ø¯Ù†", "ğŸ‡´ğŸ‡²": "Ø¹Ù…Ø§Ù†", "ğŸ‡§ğŸ‡­": "Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†", "ğŸ‡¹ğŸ‡³": "ØªÙˆÙ†Ø³", "ğŸ‡±ğŸ‡¾": "Ù„ÙŠØ¨ÙŠØ§", "ğŸ‡¸ğŸ‡©": "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†", "ğŸ‡²ğŸ‡·": "Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§", "ğŸ‡¸ğŸ‡´": "Ø§Ù„ØµÙˆÙ…Ø§Ù„", "ğŸ‡©ğŸ‡¯": "Ø¬ÙŠØ¨ÙˆØªÙŠ", "ğŸ‡°ğŸ‡²": "Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±", "ğŸ‡ºğŸ‡¸": "Ø§Ù…Ø±ÙŠÙƒØ§", "ğŸ‡¬ğŸ‡§": "Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§", "ğŸ‡«ğŸ‡·": "ÙØ±Ù†Ø³Ø§", "ğŸ‡©ğŸ‡ª": "Ø§Ù„Ù…Ø§Ù†ÙŠØ§", "ğŸ‡®ğŸ‡¹": "Ø§ÙŠØ·Ø§Ù„ÙŠØ§", "ğŸ‡ªğŸ‡¸": "Ø§Ø³Ø¨Ø§Ù†ÙŠØ§", "ğŸ‡·ğŸ‡º": "Ø±ÙˆØ³ÙŠØ§", "ğŸ‡¨ğŸ‡³": "Ø§Ù„ØµÙŠÙ†", "ğŸ‡°ğŸ‡·": "ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ©", "ğŸ‡®ğŸ‡³": "Ø§Ù„Ù‡Ù†Ø¯", "ğŸ‡¹ğŸ‡·": "ØªØ±ÙƒÙŠØ§", "ğŸ‡¨ğŸ‡¦": "ÙƒÙ†Ø¯Ø§", "ğŸ‡¦ğŸ‡º": "Ø§Ø³ØªØ±Ø§Ù„ÙŠØ§", "ğŸ‡²ğŸ‡½": "Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ", "ğŸ‡¦ğŸ‡·": "Ø§Ù„Ø§Ø±Ø¬Ù†ØªÙŠÙ†", "ğŸ‡µğŸ‡¹": "Ø§Ù„Ø¨Ø±ØªØºØ§Ù„", "ğŸ‡³ğŸ‡±": "Ù‡ÙˆÙ„Ù†Ø¯Ø§", "ğŸ‡§ğŸ‡ª": "Ø¨Ù„Ø¬ÙŠÙƒØ§", "ğŸ‡¨ğŸ‡­": "Ø³ÙˆÙŠØ³Ø±Ø§", "ğŸ‡¸ğŸ‡ª": "Ø§Ù„Ø³ÙˆÙŠØ¯", "ğŸ‡³ğŸ‡´": "Ø§Ù„Ù†Ø±ÙˆÙŠØ¬", "ğŸ‡©ğŸ‡°": "Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ", "ğŸ‡«ğŸ‡®": "ÙÙ†Ù„Ù†Ø¯Ø§", "ğŸ‡¬ğŸ‡·": "Ø§Ù„ÙŠÙˆÙ†Ø§Ù†", "ğŸ‡¿ğŸ‡¦": "Ø¬Ù†ÙˆØ¨ Ø§ÙØ±ÙŠÙ‚ÙŠØ§", "ğŸ‡³ğŸ‡¬": "Ù†ÙŠØ¬ÙŠØ±ÙŠØ§" };
const emojiData = { "ğŸ¦": "Ø£Ø³Ø¯", "ğŸ": "ØªÙØ§Ø­Ø©", "ğŸ¥•": "Ø¬Ø²Ø±", "ğŸŒ": "Ù…ÙˆØ²", "ğŸ˜": "ÙÙŠÙ„", "ğŸ“": "ÙØ±Ø§ÙˆÙ„Ø©", "ğŸ¦’": "Ø²Ø±Ø§ÙØ©", "ğŸ”": "Ù‡Ù…Ø¨Ø±ØºØ±", "ğŸ•": "Ø¨ÙŠØªØ²Ø§", "ğŸ¼": "Ø¨Ø§Ù†Ø¯Ø§", "ğŸ’": "Ù‚Ø±Ø¯", "ğŸ¯": "Ù†Ù…Ø±", "ğŸ¦“": "Ø­Ù…Ø§Ø± ÙˆØ­Ø´ÙŠ", "ğŸ«": "Ø¬Ù…Ù„", "ğŸ": "Ø­ØµØ§Ù†", "ğŸ‘": "Ø®Ø±ÙˆÙ", "ğŸ“": "Ø¯ÙŠÙƒ", "ğŸ§": "Ø¨Ø·Ø±ÙŠÙ‚", "ğŸ¬": "Ø¯ÙˆÙ„ÙÙŠÙ†", "ğŸ¦ˆ": "Ù‚Ø±Ø´", "ğŸ‡": "Ø¹Ù†Ø¨", "ğŸ‰": "Ø¨Ø·ÙŠØ®", "ğŸ’": "ÙƒØ±Ø²", "ğŸ": "Ø£Ù†Ø§Ù†Ø§Ø³", "ğŸ¥‘": "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ", "ğŸŒ½": "Ø°Ø±Ø©", "ğŸ¥¦": "Ø¨Ø±ÙˆÙƒÙ„ÙŠ", "ğŸ¦": "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…", "ğŸ©": "Ø¯ÙˆÙ†Ø§Øª", "ğŸª": "ÙƒÙˆÙƒÙŠØ²" };

const emojisList = ["ğŸ˜€", "ğŸ˜ƒ", "ğŸ˜„", "ğŸ˜", "ğŸ˜†", "ğŸ˜…", "ğŸ˜‚", "ğŸ¤£", "ğŸ˜Š", "ğŸ˜‡", "ğŸ™‚", "ğŸ™ƒ", "ğŸ˜‰", "ğŸ˜Œ", "ğŸ˜", "ğŸ¥°", "ğŸ˜˜", "ğŸ˜—", "ğŸ˜™", "ğŸ˜š", "ğŸ˜‹", "ğŸ˜›", "ğŸ˜", "ğŸ˜œ", "ğŸ¤ª", "ğŸ¤¨", "ğŸ§", "ğŸ¤“", "ğŸ˜", "ğŸ¤©", "ğŸ¥³", "ğŸ˜", "ğŸ˜’", "ğŸ˜", "ğŸ˜”", "ğŸ˜Ÿ", "ğŸ˜•", "ğŸ™", "â˜¹ï¸", "ğŸ˜£", "ğŸ˜–", "ğŸ˜«", "ğŸ˜©", "ğŸ¥º", "ğŸ˜¢", "ğŸ˜­", "ğŸ˜¤", "ğŸ˜ ", "ğŸ˜¡", "ğŸ¤¬", "ğŸ¤¯", "ğŸ˜³", "ğŸ¥µ", "ğŸ¥¶", "ğŸ˜±", "ğŸ˜¨", "ğŸ˜°", "ğŸ˜¥", "ğŸ˜“", "ğŸ¤—", "ğŸ¤”", "ğŸ¤­", "ğŸ¤«", "ğŸ¤¥", "ğŸ˜¶", "ğŸ˜", "ğŸ˜‘", "ğŸ˜¬", "ğŸ™„", "ğŸ˜¯", "ğŸ˜¦", "ğŸ˜§", "ğŸ˜®", "ğŸ˜²", "ğŸ¥±", "ğŸ˜´", "ğŸ¤¤", "ğŸ˜ª", "ğŸ˜µ", "ğŸ¤", "ğŸ¥´", "ğŸ¤¢", "ğŸ¤®", "ğŸ¤§", "ğŸ˜·", "ğŸ¤’", "ğŸ¤•", "ğŸ¤‘", "ğŸ¤ ", "ğŸ˜ˆ", "ğŸ‘¿", "ğŸ‘¹", "ğŸ‘º", "ğŸ¤¡", "ğŸ’©", "ğŸ‘»", "ğŸ’€", "â˜ ï¸", "ğŸ‘½", "ğŸ‘¾", "ğŸ¤–", "ğŸƒ", "ğŸ˜º", "ğŸ˜¸", "ğŸ˜»", "ğŸ˜¼", "ğŸ˜½", "ğŸ™€", "ğŸ˜¿", "ğŸ˜¾"];

const wouldYouRather = [
    "ØªØ¹ÙŠØ´ ÙÙŠ Ø§Ù„ØºØ§Ø¨Ø© Ø£Ùˆ ØªØ¹ÙŠØ´ ÙÙŠ Ø§Ù„ØµØ­Ø±Ø§Ø¡ØŸ", "ØªÙƒÙˆÙ† ØºÙ†ÙŠ ÙˆØ­Ø²ÙŠÙ† Ø£Ùˆ ÙÙ‚ÙŠØ± ÙˆØ³Ø¹ÙŠØ¯ØŸ", "ØªØ·ÙŠØ± Ø£Ùˆ ØªØ®ØªÙÙŠØŸ", "ØªØ¹Ø±Ù Ù…Ø³ØªÙ‚Ø¨Ù„Ùƒ Ø£Ùˆ ØªØºÙŠØ± Ù…Ø§Ø¶ÙŠÙƒØŸ", "ØªØ¹ÙŠØ´ Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª Ø£Ùˆ Ø¨Ø¯ÙˆÙ† ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŸ",
    "ØªØ£ÙƒÙ„ Ø¨ØµÙ„ Ù†ÙŠØ¡ Ø£Ùˆ ØªØ£ÙƒÙ„ Ù„ÙŠÙ…ÙˆÙ† Ø­Ø§Ù…Ø¶ØŸ", "ØªÙƒÙˆÙ† Ù…Ø´Ù‡ÙˆØ± ÙˆÙ…ÙƒØ±ÙˆÙ‡ Ø£Ùˆ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ ÙˆÙ…Ø­Ø¨ÙˆØ¨ØŸ", "ØªÙ†Ø§Ù… ÙÙŠ Ù…ÙƒØ§Ù† Ø¨Ø§Ø±Ø¯ Ø¬Ø¯Ø§Ù‹ Ø£Ùˆ Ø­Ø§Ø± Ø¬Ø¯Ø§Ù‹ØŸ", "ØªØªÙƒÙ„Ù… ÙƒÙ„ Ù„ØºØ§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ø£Ùˆ ØªØªÙƒÙ„Ù… Ù…Ø¹ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§ØªØŸ", "ØªÙƒÙˆÙ† Ø¨Ø·Ù„ Ø®Ø§Ø±Ù‚ Ø£Ùˆ Ø³Ø§Ø­Ø±ØŸ",
    "ØªØ¹ÙŠØ´ ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡ Ø£Ùˆ ØªØ­Øª Ø§Ù„Ø¨Ø­Ø±ØŸ", "ØªØ®Ø³Ø± Ø­Ø§Ø³Ø© Ø§Ù„Ø³Ù…Ø¹ Ø£Ùˆ Ø­Ø§Ø³Ø© Ø§Ù„Ø¨ØµØ±ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…ØªØ£Ø®Ø± Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ø¨ÙƒØ± Ø¬Ø¯Ø§Ù‹ØŸ", "ØªØ£ÙƒÙ„ Ø¨ÙŠØªØ²Ø§ Ù„Ù„Ø£Ø¨Ø¯ Ø£Ùˆ Ø¨Ø±Ø¬Ø± Ù„Ù„Ø£Ø¨Ø¯ØŸ", "ØªÙƒÙˆÙ† Ø°ÙƒÙŠ Ø¬Ø¯Ø§Ù‹ Ø£Ùˆ Ù‚ÙˆÙŠ Ø¬Ø¯Ø§Ù‹ØŸ",
    "ØªØ¹ÙŠØ´ ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ Ø£Ùˆ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ØŸ", "ØªÙƒÙˆÙ† Ø£ØµØºØ± person ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø£Ùˆ Ø£ÙƒØ¨Ø± Ø´Ø®ØµØŸ", "ØªÙ…Ø´ÙŠ Ø­Ø§ÙÙŠ Ø¹Ù„Ù‰ Ø²Ø¬Ø§Ø¬ Ø£Ùˆ Ø¹Ù„Ù‰ Ø¬Ù…Ø±ØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø°Ø§ÙƒØ±Ø© Ù‚ÙˆÙŠØ© Ø£Ùˆ ØªÙ†Ø³Ù‰ Ø§Ù„Ù‡Ù…ÙˆÙ…ØŸ", "ØªÙƒÙˆÙ† Ù…Ù„Ùƒ ÙÙŠ Ø¬Ø²ÙŠØ±Ø© Ø£Ùˆ Ù…ÙˆØ§Ø·Ù† ÙÙŠ Ù…Ø¯ÙŠÙ†Ø©ØŸ",
    "ØªØ£ÙƒÙ„ Ø£ÙƒÙ„ Ø­Ø§Ø± Ø¬Ø¯Ø§Ù‹ Ø£Ùˆ Ø¨Ø§Ø±Ø¯ Ø¬Ø¯Ø§Ù‹ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªØ¹Ø¨Ø§Ù† Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¬ÙˆØ¹Ø§Ù†ØŸ", "ØªØ¹ÙŠØ´ Ø¨Ø¯ÙˆÙ† Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø£Ùˆ Ø¨Ø¯ÙˆÙ† Ø£ÙÙ„Ø§Ù…ØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø³ÙŠØ§Ø±Ø© Ø£Ø­Ù„Ø§Ù…Ùƒ Ø£Ùˆ Ø¨ÙŠØª Ø£Ø­Ù„Ø§Ù…ÙƒØŸ", "ØªÙƒÙˆÙ† Ù…Ø´Ù‡ÙˆØ± ÙÙŠ Ø§Ù„ÙŠÙˆØªÙŠÙˆØ¨ Ø£Ùˆ ÙÙŠ Ø§Ù„ØªÙŠÙƒ ØªÙˆÙƒØŸ",
    "ØªÙ„Ø¨Ø³ Ù…Ù„Ø§Ø¨Ø³ Ø´ØªÙˆÙŠØ© ÙÙŠ Ø§Ù„ØµÙŠÙ Ø£Ùˆ ØµÙŠÙÙŠØ© ÙÙŠ Ø§Ù„Ø´ØªØ§Ø¡ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ ØªØ¶Ø­Ùƒ Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¬Ø§Ø¯ØŸ", "ØªØ¹ÙŠØ´ ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© Ù…Ø²Ø¯Ø­Ù…Ø© Ø£Ùˆ Ù‚Ø±ÙŠØ© Ù‡Ø§Ø¯Ø¦Ø©ØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø£Ø¬Ù†Ø­Ø© Ø£Ùˆ Ø°ÙŠÙ„ØŸ", "ØªØ£ÙƒÙ„ Ø­Ù„ÙˆÙŠØ§Øª ÙÙ‚Ø· Ø£Ùˆ Ù…ÙˆØ§Ù„Ø­ ÙÙ‚Ø·ØŸ",
    "ØªÙƒÙˆÙ† Ø¨Ø·Ù„ ÙÙŠ ÙÙŠÙ„Ù… Ø±Ø¹Ø¨ Ø£Ùˆ ÙÙŠÙ„Ù… ÙƒÙˆÙ…ÙŠØ¯ÙŠØŸ", "ØªØ¹Ø±Ù Ù…ØªÙ‰ Ø³ØªÙ…ÙˆØª Ø£Ùˆ ÙƒÙŠÙ Ø³ØªÙ…ÙˆØªØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ù‚ÙˆØ© Ø§Ù„Ø¬Ù„ÙŠØ¯ Ø£Ùˆ Ù‚ÙˆØ© Ø§Ù„Ù†Ø§Ø±ØŸ", "ØªØ¹ÙŠØ´ Ø¨Ø¯ÙˆÙ† Ù‡Ø§ØªÙ Ø£Ùˆ Ø¨Ø¯ÙˆÙ† ØªÙ„ÙØ§Ø²ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¹Ø·Ø´Ø§Ù† Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù†Ø¹Ø³Ø§Ù†ØŸ",
    "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ù‚Ø·Ø© Ø£Ùˆ ÙƒÙ„Ø¨ØŸ", "ØªØ³Ø§ÙØ± Ø¨Ø§Ù„Ù‚Ø·Ø§Ø± Ø£Ùˆ Ø¨Ø§Ù„Ø·Ø§Ø¦Ø±Ø©ØŸ", "ØªÙƒÙˆÙ† Ø±Ø³Ø§Ù… Ù…Ø´Ù‡ÙˆØ± Ø£Ùˆ Ø¹Ø§Ø²Ù Ù…Ø´Ù‡ÙˆØ±ØŸ", "ØªØ£ÙƒÙ„ ÙÙŠ Ù…Ø·Ø¹Ù… ÙØ§Ø®Ø± Ø£Ùˆ ØªØ·Ø¨Ø® ÙÙŠ Ø§Ù„Ø¨ÙŠØªØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø­Ø¯ÙŠÙ‚Ø© ÙƒØ¨ÙŠØ±Ø© Ø£Ùˆ Ù…Ø³Ø¨Ø­ ÙƒØ¨ÙŠØ±ØŸ",
    "ØªØ¹ÙŠØ´ ÙÙŠ Ù†Ø§Ø·Ø­Ø© Ø³Ø­Ø§Ø¨ Ø£Ùˆ ÙÙŠ ÙƒÙˆØ®ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø§Ø¨Ø³ Ø±Ø³Ù…ÙŠ Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø§Ø¨Ø³ Ø±ÙŠØ§Ø¶ÙŠØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ù‚Ø¯Ø±Ø© Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø£ÙÙƒØ§Ø± Ø£Ùˆ Ø±Ø¤ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ØŸ", "ØªØ£ÙƒÙ„ ÙÙˆØ§ÙƒÙ‡ ÙÙ‚Ø· Ø£Ùˆ Ø®Ø¶Ø±ÙˆØ§Øª ÙÙ‚Ø·ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙÙŠ Ø¶ÙˆØ¡ Ø§Ù„Ø´Ù…Ø³ Ø£Ùˆ ÙÙŠ Ø¶ÙˆØ¡ Ø§Ù„Ù‚Ù…Ø±ØŸ",
    "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø±Ù‚ Ø£Ùˆ Ù‚ÙˆØ© Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚ØŸ", "ØªØ¹ÙŠØ´ Ø¨Ø¯ÙˆÙ† Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£Ùˆ Ø¨Ø¯ÙˆÙ† Ø¹Ø§Ø¦Ù„Ø©ØŸ", "ØªÙƒÙˆÙ† Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙØ§Ø¦Ø² Ø£Ùˆ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ø­Ø¸ÙˆØ¸ØŸ", "ØªØ£ÙƒÙ„ Ø£Ø®Ø·Ø¨ÙˆØ· Ø£Ùˆ ØªØ£ÙƒÙ„ Ø­Ø´Ø±Ø§ØªØŸ", "ØªÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø­ÙŠØ§Ø© Ø·ÙˆÙŠÙ„Ø© ÙˆÙ…Ù…Ù„Ø© Ø£Ùˆ Ù‚ØµÙŠØ±Ø© ÙˆÙ…Ø«ÙŠØ±Ø©ØŸ"
];


const mentionActivities = [
    "Ù†Ø§ÙŠÙ… Ø¹Ù„Ù‰ Ø¨Ø·Ù†Ù‡",
    "ÙŠØ­Ø¨ Ø§Ù„Ø£ÙƒÙ„ ÙƒØ«ÙŠØ±",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³Ø­Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¹ÙŠØ§Ù„",
    "Ù…Ù„Ùƒ Ø§Ù„Ù‡ÙŠØ¨Ø© ÙÙŠ Ø§Ù„Ù‚Ø±ÙˆØ¨",
    "Ø£ÙƒØ«Ø± ÙˆØ§Ø­Ø¯ ÙŠØ³ÙˆÙ„Ù",
    "Ø¯Ø§ÙŠÙ… ÙŠØºÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶",
    "ÙŠØ­Ø¨ Ø§Ù„Ù†ÙˆÙ… Ø£ÙƒØ«Ø± Ù…Ù† Ø­ÙŠØ§ØªÙ‡",
    "Ø£Ø°ÙƒÙ‰ ÙˆØ§Ø­Ø¯ ÙÙŠÙ†Ø§",
    "Ø¯Ø§ÙŠÙ… ÙŠØ¶ÙŠØ¹ Ø¬ÙˆØ§Ù„Ù‡",
    "ÙŠØ­Ø¨ Ø§Ù„Ø³ÙØ± ÙˆØ§Ù„Ø±Ø­Ù„Ø§Øª",
    "Ù‚Ù„Ø¨Ù‡ Ø£Ø¨ÙŠØ¶ ÙˆØ·ÙŠØ¨",
    "Ø¯Ø§ÙŠÙ… Ù…ØªØµÙ„ ÙˆÙ…Ø§ ÙŠØ±Ø¯",
    "ÙÙ†Ø§Ù† ÙÙŠ Ø§Ù„Ø·Ø¨Ø®",
    "ÙŠØ­Ø¨ Ø£ÙÙ„Ø§Ù… Ø§Ù„Ø±Ø¹Ø¨",
    "Ø¯Ø§ÙŠÙ… ÙŠØ¶Ø­Ùƒ Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨",
    "Ù…Ù„Ùƒ Ø§Ù„ØªØµØ§Ù…ÙŠÙ…",
    "ØµÙˆØªÙ‡ Ø¬Ù…ÙŠÙ„ ÙÙŠ Ø§Ù„ØºÙ†Ø§Ø¡",
    "Ø¯Ø§ÙŠÙ… ÙŠÙ†Ø³Ù‰ ÙˆÙŠÙ† Ø­Ø· Ù…ÙØ§ØªÙŠØ­Ù‡",
    "ÙŠØ­Ø¨ Ø§Ù„Ù‚Ø·Ø· Ø¨Ø¬Ù†ÙˆÙ†",
    "Ø¯Ø§ÙŠÙ… ÙŠØªØ£Ø®Ø± Ø¹Ù† Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯",
    "ÙŠØ­Ø¨ Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³ÙˆÙŠ Ù†ÙØ³Ù‡ ÙØ§Ù‡Ù…",
    "Ù…Ù„Ùƒ Ø§Ù„Ø³ØªÙŠÙƒØ±Ø§Øª ÙÙŠ Ø§Ù„ÙˆØ§ØªØ³",
    "ÙŠØ­Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ÙˆØ§Ù„Ø¬ÙŠÙ…",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ Ø£Ø®Ø¨Ø§Ø± ØºÙ„Ø·",
    "Ù‚Ù„Ø¨Ù‡ Ù…ÙŠØª Ù…Ù† Ø§Ù„Ø±Ø¹Ø¨",
    "ÙŠØ­Ø¨ ÙŠÙ‚Ø±Ø£ ÙƒØªØ¨",
    "Ø¯Ø§ÙŠÙ… ÙŠØºÙŠØ± Ù†ÙƒÙ‡ ÙÙŠ Ø§Ù„Ù‚Ø±ÙˆØ¨",
    "ÙŠØ­Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
    "Ø¯Ø§ÙŠÙ… ÙŠØ·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø·Ø§Ø¹Ù…",
    "ØµØ§Ù†Ø¹ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù‚Ø±ÙˆØ¨",
    "Ø¯Ø§ÙŠÙ… ÙŠØ­Ø°Ù Ø±Ø³Ø§Ø¦Ù„Ù‡",
    "ÙŠØ­Ø¨ Ø§Ù„Ø´ØªØ§Ø¡ ÙˆØ§Ù„Ù…Ø·Ø±",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ Ø±ÙŠÙƒÙˆØ±Ø¯Ø§Øª Ø·ÙˆÙŠÙ„Ø©",
    "Ù…Ù„Ùƒ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª",
    "ÙŠØ­Ø¨ Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³ÙˆÙŠ Ù†ÙØ³Ù‡ Ù†Ø§ÙŠÙ…",
    "ÙŠØ­Ø¨ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ Ù†ÙƒØª Ù‚Ø¯ÙŠÙ…Ø©",
    "Ù…Ù„Ùƒ Ø§Ù„Ù‡Ø¯ÙˆØ¡",
    "ÙŠØ­Ø¨ ÙŠØ¬Ù…Ø¹ Ø§Ù„Ø¹Ø·ÙˆØ±",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø®Ø·Ø£",
    "ÙŠØ­Ø¨ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø§Øª",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø§Ù‚Ø¨ Ø¨ØµÙ…Øª",
    "Ù…Ù„Ùƒ Ø§Ù„ÙƒØ´Ø®Ø©",
    "ÙŠØ­Ø¨ Ø§Ù„Ø£Ù†Ù…ÙŠ ÙˆØ§Ù„Ù…Ø§Ù†Ø¬Ø§",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³ÙˆÙŠ Ù…Ù†Ø´Ù† Ù„Ù„ÙƒÙ„",
    "ÙŠØ­Ø¨ Ø§Ù„Ø´Ø¹Ø± ÙˆØ§Ù„Ù‚ØµØ§Ø¦Ø¯",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±",
    "Ù…Ù„Ùƒ Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ¹Ø©",
    "ÙŠØ­Ø¨ Ø§Ù„Ø¨Ø­Ø± ÙˆØ§Ù„Ø³Ø¨Ø§Ø­Ø©",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª ØªÙŠÙƒ ØªÙˆÙƒ",
    "ÙŠØ­Ø¨ Ø§Ù„Ø¹Ø²Ù„Ø© ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡",
    "Ø¯Ø§ÙŠÙ… ÙŠÙ†Ø³Ù‰ ÙŠØ´Ø­Ù† Ø¬ÙˆØ§Ù„Ù‡",
    "Ù…Ù„Ùƒ Ø§Ù„Ø«Ù‚Ø§ÙØ©",
    "ÙŠØ­Ø¨ Ø§Ù„Ø£ÙƒÙ„ Ø§Ù„Ø­Ø§Ø±",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³Ø£Ù„ Ø£Ø³Ø¦Ù„Ø© ØºØ±ÙŠØ¨Ø©",
    "ÙŠØ­Ø¨ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙˆØ§Ù„Ø®Ø¶Ø±Ø©",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ ØµÙˆØ± Ø£ÙƒÙ„Ù‡",
    "Ù…Ù„Ùƒ Ø§Ù„ØªÙˆØ§Ø¶Ø¹",
    "ÙŠØ­Ø¨ ÙŠÙ„Ø¨Ø³ Ù…Ø§Ø±ÙƒØ§Øª",
    "Ø¯Ø§ÙŠÙ… ÙŠØ³ÙˆÙŠ Ù†ÙØ³Ù‡ Ù…Ø´ØºÙˆÙ„",
    "ÙŠØ­Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù‚ØµØµ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ Ø£Ø¯Ø¹ÙŠØ©",
    "Ù…Ù„Ùƒ Ø§Ù„ØªÙØ§Ø¤Ù„",
    "ÙŠØ­Ø¨ Ø§Ù„Ø±Ø³Ù… ÙˆØ§Ù„ØªÙ„ÙˆÙŠÙ†",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ Ù…Ù„ØµÙ‚Ø§Øª Ù…Ø¶Ø­ÙƒØ©",
    "ÙŠØ­Ø¨ Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
    "Ø¯Ø§ÙŠÙ… ÙŠØ±Ø³Ù„ ÙÙŠ Ù†Øµ Ø§Ù„Ù„ÙŠÙ„",
    "Ù…Ù„Ùƒ Ø§Ù„Ù‚Ø±ÙˆØ¨ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ"
];
const animeQuiz = [
    { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ÙˆÙ† Ø¨ÙŠØ³ØŸ", a: "Ù„ÙˆÙÙŠ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø³ÙŠÙ Ø²ÙˆØ±Ùˆ Ø§Ù„Ø°ÙŠ Ø­ØµÙ„ Ø¹Ù„ÙŠÙ‡ Ù…Ù† ÙˆØ§Ù†ÙˆØŸ", a: "Ø§Ù†Ù…Ø§" }, { q: "Ù…Ù† Ù‡Ùˆ Ù…Ø¯Ø±Ø¨ Ù†Ø§Ø±ÙˆØªÙˆ Ø§Ù„Ø£ÙˆÙ„ØŸ", a: "Ø§ÙŠØ±ÙˆÙƒØ§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… ÙˆØ§Ù„Ø¯ Ù„ÙˆÙÙŠØŸ", a: "Ø¯Ø±Ø§ØºÙˆÙ†" }, { q: "Ù…Ù† Ù‚ØªÙ„ Ø¥ÙŠØªØ§ØªØ´ÙŠ Ø£ÙˆØªØ´ÙŠÙ‡Ø§ØŸ", a: "Ø³Ø§Ø³ÙƒÙŠ" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„ÙˆØ­Ø´ Ø¯Ø§Ø®Ù„ Ù†Ø§Ø±ÙˆØªÙˆØŸ", a: "ÙƒÙˆØ±Ø§Ù…Ø§" }, { q: "Ù…Ù† Ù‡Ùˆ Ù‚Ø¨Ø·Ø§Ù† Ø·Ø§Ù‚Ù… Ù‚Ø±Ø§ØµÙ†Ø© Ø§Ù„Ù‚Ù„Ø¨ØŸ", a: "Ù„Ø§Ùˆ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø£Ù†Ù…ÙŠ Ø§Ù„Ø°ÙŠ ÙÙŠÙ‡ Ø¹Ù…Ù„Ø§Ù‚Ø©ØŸ", a: "Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø¹Ù…Ø§Ù„Ù‚Ø©" }, { q: "Ù…Ù† Ù‡Ùˆ Ø£Ù‚ÙˆÙ‰ Ø±Ø¬Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… ÙÙŠ ÙˆÙ† Ø¨ÙŠØ³ Ø³Ø§Ø¨Ù‚Ø§Ù‹ØŸ", a: "Ø§Ù„Ù„Ø­ÙŠØ© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¯Ø±Ø§ØºÙˆÙ† Ø¨ÙˆÙ„ØŸ", a: "ØºÙˆÙƒÙˆ" },
    { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ Ø£Ø¹Ø·Ù‰ Ù„ÙˆÙÙŠ Ù‚Ø¨Ø¹ØªÙ‡ Ø§Ù„Ù‚Ø´ÙŠØ©ØŸ", a: "Ø´Ø§Ù†ÙƒØ³" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¹ÙŠÙ† Ø³Ø§Ø³ÙƒÙŠ Ø§Ù„ÙŠØ³Ø±Ù‰ØŸ", a: "Ø±ÙŠÙ†ØºØ§Ù†" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø§Ù„Ù‚Ù†Ø§ØµØŸ", a: "ØºÙˆÙ†" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… ÙˆØ§Ù„Ø¯ ØºÙˆÙ†ØŸ", a: "Ø¬ÙŠÙ†" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¨Ù„ÙŠØªØ´ØŸ", a: "Ø§ÙŠØªØ´ÙŠØºÙˆ" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø³ÙŠÙ Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Ù…ÙŠÙ‡ÙˆÙƒØŸ", a: "ÙŠÙˆØ±Ùˆ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø£Ø® Ø§Ù„Ø£ÙƒØ¨Ø± Ù„Ù†Ø§Ø±ÙˆØªÙˆ Ø¨Ø§Ù„ØªØ¨Ù†ÙŠØŸ", a: "Ø§ÙŠØ±ÙˆÙƒØ§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… ÙØ§ÙƒÙ‡Ø© Ù„ÙˆÙÙŠØŸ", a: "Ù†ÙŠÙƒØ§" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¯ÙŠÙ…ÙˆÙ† Ø³Ù„Ø§ÙŠØ±ØŸ", a: "ØªØ§Ù†Ø¬ÙŠØ±Ùˆ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£Ø®Øª ØªØ§Ù†Ø¬ÙŠØ±ÙˆØŸ", a: "Ù†ÙŠØ²ÙˆÙƒÙˆ" },
    { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¬ÙˆØ¬ÙˆØªØ³Ùˆ ÙƒØ§ÙŠØ³Ù†ØŸ", a: "Ø§ÙŠØªØ§Ø¯ÙˆØ±ÙŠ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø£Ù‚ÙˆÙ‰ Ù…Ø³ØªØ¹Ù…Ù„ Ø¬ÙˆØ¬ÙˆØªØ³ÙˆØŸ", a: "ØºÙˆØ¬Ùˆ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¯ÙŠØ« Ù†ÙˆØªØŸ", a: "Ù„Ø§ÙŠØª" }, { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…Ø­Ù‚Ù‚ Ø§Ù„Ø°ÙŠ ÙŠØ·Ø§Ø±Ø¯ Ù„Ø§ÙŠØªØŸ", a: "Ø§Ù„" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø´ÙŠÙ†ÙŠØºØ§Ù…ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ù„Ø§ÙŠØªØŸ", a: "Ø±ÙŠÙˆÙƒ" },
    { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¨Ù„Ø§Ùƒ ÙƒÙ„ÙˆÙØ±ØŸ", a: "Ø£Ø³ØªØ§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ù…Ø§ÙŠ Ù‡ÙŠØ±Ùˆ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ§ØŸ", a: "Ù…ÙŠØ¯ÙˆØ±ÙŠØ§" }, { q: "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ø£Ù†Ù…ÙŠ Ø§ØºØªÙŠØ§Ù„ Ø§Ù„ÙØµÙˆÙ„ØŸ", a: "ÙƒÙˆØ±Ùˆ Ø³ÙŠÙ†Ø³ÙŠ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ÙˆÙ† Ø¨Ø§Ù†Ø´ Ù…Ø§Ù†ØŸ", a: "Ø³Ø§ÙŠØªØ§Ù…Ø§" }, { q: "Ù…Ù† Ù‡Ùˆ ØªÙ„Ù…ÙŠØ° Ø³Ø§ÙŠØªØ§Ù…Ø§ØŸ", a: "Ø¬ÙŠÙ†ÙˆØ³" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø·ÙˆÙƒÙŠÙˆ ØºÙˆÙ„? ", a: "ÙƒØ§Ù†ÙŠÙƒÙŠ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ÙØ§ÙŠØ±ÙŠ ØªÙŠÙ„? ", a: "Ù†Ø§ØªØ³Ùˆ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù‚Ø·Ø© ÙÙŠ ÙØ§ÙŠØ±ÙŠ ØªÙŠÙ„? ", a: "Ù‡Ø§Ø¨ÙŠ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø§Ù„Ø®Ø·Ø§ÙŠØ§ Ø§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ù…Ù…ÙŠØªØ©ØŸ", a: "Ù…ÙŠÙ„ÙŠÙˆØ¯Ø§Ø³" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø®Ù†Ø²ÙŠØ± Ù…ÙŠÙ„ÙŠÙˆØ¯Ø§Ø³ØŸ", a: "Ù‡ÙˆÙƒ" },
    { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¯Ø±ÙŠÙØªØ±Ø²ØŸ", a: "ØªÙˆÙŠÙˆÙ‡ÙŠØ³Ø§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ÙƒÙˆØ¯ ØºÙŠØ§Ø³ØŸ", a: "Ù„ÙˆÙ„ÙˆØ´" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø³ÙˆØ±Ø¯ Ø¢Ø±Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŸ", a: "ÙƒÙŠØ±ÙŠØªÙˆ" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø­Ø¨ÙŠØ¨Ø© ÙƒÙŠØ±ÙŠØªÙˆØŸ", a: "Ø£Ø³ÙˆÙ†Ø§" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø±ÙŠ Ø²ÙŠØ±ÙˆØŸ", a: "Ø³ÙˆØ¨Ø§Ø±Ùˆ" },
    { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ø®Ø§Ø¯Ù…Ø© Ø§Ù„Ø²Ø±Ù‚Ø§Ø¡ ÙÙŠ Ø±ÙŠ Ø²ÙŠØ±ÙˆØŸ", a: "Ø±ÙŠÙ…" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ù†Ùˆ ØºÙŠÙ… Ù†Ùˆ Ù„Ø§ÙŠÙØŸ", a: "Ø³ÙˆØ±Ø§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø£Ø®Øª Ø³ÙˆØ±Ø§ØŸ", a: "Ø´ÙŠØ±Ùˆ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø£ÙˆÙØ±Ù„ÙˆØ±Ø¯ØŸ", a: "Ø¢ÙŠÙ†Ø²" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ØªØ§ØªÙŠØª Ù†Ùˆ ÙŠÙˆØ´Ø§ØŸ", a: "Ù†Ø§ÙˆÙÙˆÙ…ÙŠ" },
    { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ù…ÙˆØ´ÙˆÙƒÙˆ ØªÙŠÙ†Ø³ÙŠØŸ", a: "Ø±ÙˆØ¯ÙŠÙˆØ³" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ø¨Ù„Ùˆ Ù„ÙˆÙƒØŸ", a: "Ø§ÙŠØ³Ø§ØºÙŠ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ù‡Ø§ÙŠÙƒÙŠÙˆØŸ", a: "Ù‡ÙŠÙ†Ø§ØªØ§" }, { q: "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ ÙƒÙˆØ±ÙˆÙƒÙˆ Ù†Ùˆ Ø¨Ø§Ø³ÙƒØªØŸ", a: "ÙƒÙˆØ±ÙˆÙƒÙˆ" }, { q: "Ù…Ù† Ù‡Ùˆ Ø¨Ø·Ù„ Ø£Ù†Ù…ÙŠ Ù‡Ø§Ø¬ÙŠÙ…ÙŠ Ù†Ùˆ Ø§ÙŠØ¨ÙˆØŸ", a: "Ø§ÙŠØ¨Ùˆ" }
];

const commands = {
    'Ø­Ø¬Ø²': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø­Ø¬Ø² Ù…Ù†ØªØ¬ Ù„Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ (2500$)', handler: async (sock, m, args, sender) => {
        const productName = args.join(' ');
        if (!productName) return m.reply('âŒ Ø­Ø¯Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø­Ø¬Ø²Ù‡\nØ§Ù„Ø´Ø±Ø­: .Ø­Ø¬Ø² <Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬>');
        
        let users = getDB(USERS_DB);
        if (!users[sender] || users[sender].wallet < 2500) return m.reply('âŒ Ø±ØµÙŠØ¯ Ù…Ø­ÙØ¸ØªÙƒ ØºÙŠØ± ÙƒØ§ÙÙ (Ø³Ø¹Ø± Ø§Ù„Ø­Ø¬Ø² 2500$)');
        
        let shop = getDB(SHOP_DB);
        if (!shop.userShops) shop.userShops = {};
        if (!shop.userShops[sender]) shop.userShops[sender] = [];
        
        if (shop.userShops[sender].length >= 10) return m.reply('âŒ Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ù„Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù…ØªØ¬Ø±Ùƒ (10 Ù…Ù†ØªØ¬Ø§Øª)');
        
        const allItems = Object.values(shop.userShops).flat().map(i => i.name);
        if (allItems.includes(productName)) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø­Ø¬ÙˆØ² Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙÙŠ Ù…ØªØ¬Ø± Ø¢Ø®Ø±.');

        users[sender].wallet -= 2500;
        shop.userShops[sender].push({ name: productName, price: 5000 });
        
        saveDB(USERS_DB, users);
        saveDB(SHOP_DB, shop);
        m.reply(`âœ… ØªÙ… Ø­Ø¬Ø² "${productName}" ÙˆØ¥Ø¶Ø§ÙØªÙ‡ Ù„Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ!\nØªÙƒÙ„ÙØ© Ø§Ù„Ø­Ø¬Ø²: 2500$\nØ³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹: 5000$ (Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ ØªØ°Ù‡Ø¨ Ù„Ù…Ø­ÙØ¸ØªÙƒ Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡)`);
    }},
    'Ù…ØªØ¬Ø±ÙŠ': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø¹Ø±Ø¶ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ Ø£Ùˆ Ù…ØªØ¬Ø± Ù…Ø³ØªØ®Ø¯Ù… Ø¢Ø®Ø±', handler: async (sock, m, args, sender) => {
        let target = m.message?.extendedTextMessage?.contextInfo?.participant || m.message?.extendedTextMessage?.contextInfo?.mentionedJid?.[0] || sender;
        let shop = getDB(SHOP_DB);
        if (!shop.userShops || !shop.userShops[target] || shop.userShops[target].length === 0) {
            return m.reply(target === sender ? 'ğŸ“¦ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ ÙØ§Ø±Øº Ø­Ø§Ù„ÙŠØ§Ù‹.' : 'ğŸ“¦ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù…ØªØ¬Ø±Ù‡.');
        }
        
        let txt = `ğŸª *Ù…ØªØ¬Ø± @${target.split('@')[0]}:*\n\n`;
        shop.userShops[target].forEach((item, i) => {
            txt += `${i + 1}. ${item.name} - Ø§Ù„Ø³Ø¹Ø±: ${item.price}$\n`;
        });
        txt += `\nÙ„Ù„Ø´Ø±Ø§Ø¡ Ø£Ø±Ø³Ù„: .Ø´Ø± <Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬>${footer}`;
        m.reply(txt, { mentions: [target] });
    }},
    'Ø´Ø±': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø´Ø±Ø§Ø¡ Ù…Ù†ØªØ¬ Ù…Ù† Ù…ØªØ¬Ø± Ù…Ø³ØªØ®Ø¯Ù…', handler: async (sock, m, args, sender) => {
        const productName = args.join(' ');
        if (!productName) return m.reply('âŒ Ø­Ø¯Ø¯ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø´Ø±Ø§Ø¤Ù‡\nØ§Ù„Ø´Ø±Ø­: .Ø´Ø± <Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬>');
        
        let shop = getDB(SHOP_DB);
        let owner = null;
        let itemIndex = -1;

        if (shop.userShops) {
            for (const userJid in shop.userShops) {
                const idx = shop.userShops[userJid].findIndex(i => i.name === productName);
                if (idx !== -1) {
                    owner = userJid;
                    itemIndex = idx;
                    break;
                }
            }
        }

        if (!owner) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø£ÙŠ Ù…ØªØ¬Ø±.');
        if (owner === sender) return m.reply('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø´Ø±Ø§Ø¡ Ù…Ù†ØªØ¬ Ù…Ù† Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ!');
        
        let users = getDB(USERS_DB);
        const price = shop.userShops[owner][itemIndex].price;
        if (!users[sender] || users[sender].wallet < price) return m.reply(`âŒ Ø±ØµÙŠØ¯ Ù…Ø­ÙØ¸ØªÙƒ ØºÙŠØ± ÙƒØ§ÙÙ (Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ ${price}$)`);
        
        users[sender].wallet -= price;
        if (!users[sender].items) users[sender].items = [];
        users[sender].items.push(productName);
        
        if (!users[owner]) users[owner] = { wallet: 0, balance: 0, items: [] };
        users[owner].wallet += price;
        
        shop.userShops[owner].splice(itemIndex, 1);
        
        saveDB(USERS_DB, users);
        saveDB(SHOP_DB, shop);
        m.reply(`âœ… Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ø´ØªØ±ÙŠØª "${productName}" Ù…Ù‚Ø§Ø¨Ù„ ${price}$.\nØªÙ… ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ù„Ù…Ø­ÙØ¸Ø© @${owner.split('@')[0]}.`, { mentions: [owner] });
    }},
    'ÙØ¹Ø§Ù„ÙŠÙ‡': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'Ø£ÙˆØ§Ù…Ø± Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©', handler: async (sock, m, args, sender) => {
        const subCmd = args[0];
        if (subCmd === 'Ù‚Ø§Ø¦Ù…Ù‡') {
            let actStats = getDB(ACTIVITY_STATS_DB);
            const todayStr = new Date().toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'});
            if (actStats.date !== todayStr) {
                return m.reply('ğŸ“Š Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…Ø³Ø¬Ù„Ø© Ù„Ù„ÙŠÙˆÙ… Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.');
            }
            
            const sorted = Object.entries(actStats.users).sort((a, b) => b[1] - a[1]);
            if (sorted.length === 0) return m.reply('ğŸ“Š Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ¹Ø§Ù„ÙŠØ§Øª Ù…Ø³Ø¬Ù„Ø© Ù„Ù„ÙŠÙˆÙ….');
            
            let txt = `ğŸ“Š *Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‚Ø¯Ù…ÙŠ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… (${actStats.date})*\n\n`;
            sorted.forEach(([jid, count], i) => {
                txt += `${i + 1}. @${jid.split('@')[0]} (${count} ÙØ¹Ø§Ù„ÙŠØ§Øª)\n`;
            });
            txt += `\nØªØªØ¬Ø¯Ø¯ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©${footer}`;
            m.reply(txt, { mentions: sorted.map(u => u[0]) });
        } else if (subCmd === 'Ù…Ù†Ø´Ù†' || subCmd === 'Ù…Ù†Ø´') {
            const randomActivity = mentionActivities[Math.floor(Math.random() * mentionActivities.length)];
            const jid = m.key.remoteJid;
            if (!jid.endsWith('@g.us')) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙÙ‚Ø·.');
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø±Ù‚Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨ÙŠÙ† 1 Ùˆ 12
            const randomNumber = Math.floor(Math.random() * 12) + 1;
            
            m.reply(`*â”‡â¦ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ù†Ø´Ù†â¦â”‡*\n\nØ§Ù„Ù…Ù†Ø´Ù† Ø±Ù‚Ù… ${randomNumber} ${randomActivity}`);
        } else {
            m.reply('âŒ Ø£Ù…Ø± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ. Ø§Ø³ØªØ®Ø¯Ù…:\n.ÙØ¹Ø§Ù„ÙŠÙ‡ Ù‚Ø§Ø¦Ù…Ù‡\n.ÙØ¹Ø§Ù„ÙŠÙ‡ Ù…Ù†Ø´');
        }
    }},
    // === Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø§Ù„Ùƒ ===
    'Ø³Ù…Ø§Ø­': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø´Ø®Øµ (Ø±Ø¯ Ø£Ùˆ Ù…Ù†Ø´Ù†)', handler: async (sock, m, args) => {
        let target = m.message?.extendedTextMessage?.contextInfo?.participant || m.message?.extendedTextMessage?.contextInfo?.mentionedJid?.[0] || (args[0] ? args[0].replace(/[^0-9]/g, '') + '@s.whatsapp.net' : null);
        if (!target) return m.reply('âŒ Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ù…Ù†Ø´Ù† Ø§Ù„Ø´Ø®Øµ Ù„Ù…Ù†Ø­Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\nØ§Ù„Ø´Ø±Ø­: .Ø³Ù…Ø§Ø­ <Ù…Ù†Ø´Ù†>');
        let auth = getDB(AUTH_DB);
        if (!auth.includes(target)) { auth.push(target); saveDB(AUTH_DB, auth); m.reply(`âœ… ØªÙ… Ù…Ù†Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù€ @${target.split('@')[0]}`, { mentions: [target] }); }
        else { m.reply('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ© Ø¨Ø§Ù„ÙØ¹Ù„'); }
    }},
    'Ø³Ø­Ø¨': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø³Ø­Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù† Ø´Ø®Øµ (Ø±Ø¯ Ø£Ùˆ Ù…Ù†Ø´Ù†)', handler: async (sock, m, args) => {
        let target = m.message?.extendedTextMessage?.contextInfo?.participant || m.message?.extendedTextMessage?.contextInfo?.mentionedJid?.[0] || (args[0] ? args[0].replace(/[^0-9]/g, '') + '@s.whatsapp.net' : null);
        if (!target) return m.reply('âŒ Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ù…Ù†Ø´Ù† Ø§Ù„Ø´Ø®Øµ Ù„Ø³Ø­Ø¨ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\nØ§Ù„Ø´Ø±Ø­: .Ø³Ø­Ø¨ <Ù…Ù†Ø´Ù†>');
        let auth = getDB(AUTH_DB);
        if (auth.includes(target)) { auth = auth.filter(id => id !== target); saveDB(AUTH_DB, auth); m.reply(`âœ… ØªÙ… Ø³Ø­Ø¨ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù† @${target.split('@')[0]}`, { mentions: [target] }); }
        else { m.reply('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ© Ø£ØµÙ„Ø§Ù‹'); }
    }},
    'Ø´Ø­Ù†': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ù„Ù†ÙØ³Ùƒ', handler: async (sock, m, args, sender) => {
        const amount = parseInt(args[0]);
        if (isNaN(amount)) return m.reply('âŒ Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø¨Ù„Øº\nØ§Ù„Ø´Ø±Ø­: .Ø´Ø­Ù† <Ø§Ù„Ù…Ø¨Ù„Øº>');
        let users = getDB(USERS_DB);
        if (!users[sender]) users[sender] = { wallet: 0, balance: 0, items: [] };
        users[sender].balance = Math.min(users[sender].balance + amount, BANK_CAP);
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… Ø´Ø­Ù† ${amount}$ Ù„Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ`);
    }},
    'Ø§Ø¯Ø¯': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ù„Ø¹Ø¶Ùˆ Ø¨Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨Ù‡', handler: async (sock, m, args) => {
        const amount = parseInt(args[0]);
        const targetAcc = parseInt(args[1]);
        if (isNaN(amount) || isNaN(targetAcc)) return m.reply('âŒ Ø­Ø¯Ø¯ Ø§Ù„Ù…Ø¨Ù„Øº Ø«Ù… Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨\nØ§Ù„Ø´Ø±Ø­: .Ø§Ø¯Ø¯ <Ø§Ù„Ù…Ø¨Ù„Øº> <Ø±Ù‚Ù…_Ø§Ù„Ø­Ø³Ø§Ø¨>');
        let users = getDB(USERS_DB);
        let targetJid = Object.keys(users).find(k => users[k].accNum === targetAcc);
        if (!targetJid) return m.reply('âŒ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­');
        users[targetJid].balance = Math.min(users[targetJid].balance + amount, BANK_CAP);
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… Ø´Ø­Ù† ${amount}$ Ù„Ù„Ø­Ø³Ø§Ø¨ ${targetAcc}`);
    }},
    'Ù‚': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø®Ø¨Ø©', handler: async (sock, m) => {
        const auth = getDB(AUTH_DB);
        if (auth.length === 0) return m.reply('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø´Ø®Ø§Øµ Ù…Ø¶Ø§ÙÙˆÙ† ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø­Ø§Ù„ÙŠØ§Ù‹.');
        let list = '*ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø£ØµØ­Ø§Ø¨ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© (Ø§Ù„Ù†Ø®Ø¨Ø©):*\n\n';
        auth.forEach((id, i) => { list += `${i + 1} - @${id.split('@')[0]}\n`; });
        list += `\n${footer}`;
        m.reply(list, { mentions: auth });
    }},
    'Ø´Øº': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'ØªØ´ØºÙŠÙ„ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª', handler: async (sock, m) => { 
        let settings = getDB(SETTINGS_DB); settings.active = true; saveDB(SETTINGS_DB, settings); 
        m.reply('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­.'); 
    }},
    'Ù‚Ù': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø¥ÙŠÙ‚Ø§Ù Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª', handler: async (sock, m) => { 
        let settings = getDB(SETTINGS_DB); settings.active = false; saveDB(SETTINGS_DB, settings); 
        m.reply('ğŸ›‘ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­.'); 
    }},
    'Ø®Øµ': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©', handler: async (sock, m, args) => {
        let settings = getDB(SETTINGS_DB);
        if (args[0] === 'Ù‚') {
            if (!m.key.remoteJid.endsWith('@g.us')) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù„Ù„Ù‚Ø±ÙˆØ¨Ø§Øª ÙÙ‚Ø·');
            if (!settings.zikrGroups) settings.zikrGroups = [];
            if (settings.zikrGroups.includes(m.key.remoteJid)) {
                settings.zikrGroups = settings.zikrGroups.filter(id => id !== m.key.remoteJid);
                m.reply('ğŸ›‘ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨');
            } else {
                settings.zikrGroups.push(m.key.remoteJid);
                m.reply('âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨');
            }
        } else {
            settings.zikrActive = !settings.zikrActive;
            m.reply(settings.zikrActive ? 'âœ… ØªÙ… ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ø¹Ø§Ù…)' : 'ğŸ›‘ ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„');
        }
        saveDB(SETTINGS_DB, settings);
    }},

    'Ø±ÙŠÙ„ÙˆØ¯': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØª', handler: async (sock, m) => {
        saveDB(USERS_DB, {});
        saveDB(GAMES_DB, {});
        saveDB(AUTH_DB, []);
        saveDB(STATS_DB, { date: new Date().toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'}), users: {} });
        saveDB(SETTINGS_DB, { active: true, zikrActive: true, zikrGroups: [], scratchCodes: [], lastCodeUpdate: 0, rewardGroups: [] });
        saveDB(REPLIES_DB, {});
        saveDB(SHOP_DB, { reservations: {} });
        m.reply('ğŸ”„ ØªÙ… Ù…Ø³Ø­ ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­.');
    }},
    'ØªØµÙÙŠØ±': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'ØªØµÙÙŠØ± Ø¨Ù†Ùƒ Ø¹Ø¶Ùˆ Ø¨Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨Ù‡', handler: async (sock, m, args) => {
        const targetAcc = parseInt(args[0]);
        if (isNaN(targetAcc)) return m.reply('âŒ Ø­Ø¯Ø¯ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨\nØ§Ù„Ø´Ø±Ø­: .ØªØµÙÙŠØ± <Ø±Ù‚Ù…_Ø§Ù„Ø­Ø³Ø§Ø¨>');
        let users = getDB(USERS_DB);
        let targetJid = Object.keys(users).find(k => users[k].accNum === targetAcc);
        if (!targetJid) return m.reply('âŒ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­');
        users[targetJid].balance = 0;
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… ØªØµÙÙŠØ± Ø±ØµÙŠØ¯ Ø§Ù„Ø¨Ù†Ùƒ Ù„Ù„Ø­Ø³Ø§Ø¨ ${targetAcc}`);
    }},
    'ÙˆÙ‚Øª': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'Ù…Ø¹Ø±ÙØ© ÙˆÙ‚Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª', handler: async (sock, m) => {
        const uptime = Date.now() - startTime;
        const hours = Math.floor(uptime / (1000 * 60 * 60));
        const minutes = Math.floor((uptime % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((uptime % (1000 * 60)) / 1000);
        m.reply(`â±ï¸ *ÙˆÙ‚Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª:*\n\nÙ…Ù†Ø°: ${hours} Ø³Ø§Ø¹Ø© Ùˆ ${minutes} Ø¯Ù‚ÙŠÙ‚Ø© Ùˆ ${seconds} Ø«Ø§Ù†ÙŠØ©${footer}`);
    }},
    'Ø³ØªÙŠÙƒØ±': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù€ GIF Ø¥Ù„Ù‰ Ù…Ù„ØµÙ‚', handler: async (sock, m) => {
        const quoted = m.message?.extendedTextMessage?.contextInfo?.quotedMessage || m.message;
        const mime = quoted?.imageMessage?.mimetype || quoted?.videoMessage?.mimetype || quoted?.stickerMessage?.mimetype || null;
        
        if (!mime) return m.reply('âŒ Ø±Ø¯ Ø¹Ù„Ù‰ ØµÙˆØ±Ø© Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ/GIF Ù„ØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ Ù…Ù„ØµÙ‚');
        if (quoted?.videoMessage?.seconds > 10) return m.reply('âŒ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙŠØ¬Ø¨ Ø£Ù† Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 10 Ø«ÙˆØ§Ù†Ù');

        try {
            const messageType = quoted?.imageMessage ? 'image' : (quoted?.videoMessage ? 'video' : 'sticker');
            const stream = await downloadContentFromMessage(quoted[messageType + 'Message'], messageType);
            let buffer = Buffer.from([]);
            for await (const chunk of stream) { buffer = Buffer.concat([buffer, chunk]); }

            const settings = getDB(SETTINGS_DB);
            const sticker = new Sticker(buffer, {
                pack: settings.stickerPack || 'Hancook-Bot',
                author: settings.stickerAuthor || 'Hancook',
                type: StickerTypes.FULL,
                categories: ['ğŸ¤©', 'ğŸ‰'],
                quality: 70
            });

            const stickerBuffer = await sticker.toBuffer();
            await sock.sendMessage(m.key.remoteJid, { sticker: stickerBuffer }, { quoted: m });
        } catch (e) {
            console.error(e);
            m.reply('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ù„ØµÙ‚');
        }
    }},
    'Ø­Ù‚ÙˆÙ‚': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'ØªØºÙŠÙŠØ± Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ØµÙ‚ (Ø§Ù„Ø­Ø²Ù…Ø©|Ø§Ù„Ù…Ø¤Ù„Ù)', handler: async (sock, m, args) => {
        const text = args.join(' ');
        const quoted = m.message?.extendedTextMessage?.contextInfo?.quotedMessage;
        const settings = getDB(SETTINGS_DB);

        // Ø¥Ø°Ø§ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù†Øµ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ | Ø¨Ø¯ÙˆÙ† Ø±Ø¯ Ø¹Ù„Ù‰ Ù…Ù„ØµÙ‚ØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        if (text && text.includes('|') && !quoted?.stickerMessage) {
            const [pack, author] = text.split('|');
            settings.stickerPack = pack.trim();
            settings.stickerAuthor = author.trim();
            saveDB(SETTINGS_DB, settings);
            return m.reply(`âœ… ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!\nØ§Ù„Ø­Ø²Ù…Ø©: ${settings.stickerPack}\nØ§Ù„Ù…Ø¤Ù„Ù: ${settings.stickerAuthor}`);
        }

        if (!quoted?.stickerMessage) return m.reply('âŒ Ø±Ø¯ Ø¹Ù„Ù‰ Ù…Ù„ØµÙ‚ Ù„ØªØºÙŠÙŠØ± Ø­Ù‚ÙˆÙ‚Ù‡ØŒ Ø£Ùˆ Ø£Ø±Ø³Ù„: .Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø­Ø²Ù…Ø©|Ø§Ù„Ù…Ø¤Ù„Ù Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');

        try {
            const stream = await downloadContentFromMessage(quoted.stickerMessage, 'sticker');
            let buffer = Buffer.from([]);
            for await (const chunk of stream) { buffer = Buffer.concat([buffer, chunk]); }

            let pack = settings.stickerPack || 'Hancook-Bot';
            let author = settings.stickerAuthor || 'Hancook';

            if (text && text.includes('|')) {
                [pack, author] = text.split('|');
            } else if (text) {
                pack = text.trim();
            }

            const sticker = new Sticker(buffer, {
                pack: pack.trim(),
                author: author.trim(),
                type: StickerTypes.FULL,
                categories: ['ğŸ¤©', 'ğŸ‰'],
                quality: 70
            });

            const stickerBuffer = await sticker.toBuffer();
            await sock.sendMessage(m.key.remoteJid, { sticker: stickerBuffer }, { quoted: m });
        } catch (e) {
            console.error(e);
            m.reply('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØºÙŠÙŠØ± Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ØµÙ‚');
        }
    }},
    'Ø­Ø¯': { category: 'Ø§Ù„Ù…Ø§Ù„Ùƒ', desc: 'ØªØ­Ø¯ÙŠØ¯ Ù‚Ø±ÙˆØ¨ Ù„Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„ÙŠÙˆÙ…ÙŠØ©', handler: async (sock, m) => {
        if (!m.key.remoteJid.endsWith('@g.us')) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± Ù„Ù„Ù‚Ø±ÙˆØ¨Ø§Øª ÙÙ‚Ø·');
        let settings = getDB(SETTINGS_DB);
        if (!settings.rewardGroups) settings.rewardGroups = [];
        if (settings.rewardGroups.includes(m.key.remoteJid)) {
            settings.rewardGroups = settings.rewardGroups.filter(id => id !== m.key.remoteJid);
            m.reply('âœ… ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„ÙŠÙˆÙ…ÙŠØ©');
        } else {
            settings.rewardGroups.push(m.key.remoteJid);
            m.reply('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø±ÙˆØ¨ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„ÙŠÙˆÙ…ÙŠØ©');
        }
        saveDB(SETTINGS_DB, settings);
    }},

    // === Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ===
    'Ø¨ÙˆØ§': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', handler: async (sock, m) => {
        let help = `*â€ã€ ğ‘¯ğ‘¨ğ‘µğ‘ªğ‘¶ğ‘ªğ‘² ğ‘©ğ‘¶ğ‘» â€¢ Ø§Ù„Ø£ÙˆØ§Ù…Ø± ğŸ§Š ã€*\n\n`;
        help += `*â€â”«â”€â”€â”€âŒ© ğŸ‘‘ Ù‚Ù€Ø³Ù€Ù… Ø§Ù„Ù€Ù…Ù€Ø§Ù„Ù€Ùƒ âŒªâ”€â”€â”€â”£*\n\n`;
        help += `*â€¢ [ .Ø³Ù…Ø§Ø­ ] :* Ù…Ù†Ø­ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø´Ø®Øµ (Ø±Ø¯/Ù…Ù†Ø´Ù†)\n`;
        help += `*â€¢ [ .Ø³Ø­Ø¨ ] :* Ø³Ø­Ø¨ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ù† Ø´Ø®Øµ (Ø±Ø¯/Ù…Ù†Ø´Ù†)\n`;
        help += `*â€¢ [ .Ø´Ø­Ù† ] :* Ø´Ø­Ù† Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ\n`;
        help += `*â€¢ [ .Ø§Ø¯Ø¯ ] :* Ø´Ø­Ù† Ø±ØµÙŠØ¯ Ù„Ø¹Ø¶Ùˆ Ø¨Ø±Ù‚Ù… Ø­Ø³Ø§Ø¨Ù‡\n`;
        help += `*â€¢ [ .Ù‚ ] :* Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø®Ø¨Ø©\n`;
        help += `*â€¢ [ .Ø´Øº ] :* ØªÙØ¹ÙŠÙ„ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª\n`;
        help += `*â€¢ [ .Ù‚Ù ] :* Ø¥ÙŠÙ‚Ø§Ù Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¨ÙˆØª\n`;
        help += `*â€¢ [ .Ø®Øµ ] :* ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ø¹Ø§Ù…)\n`;
        help += `*â€¢ [ .Ø®Øµ Ù‚ ] :* ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ù„Ù„Ù‚Ø±ÙˆØ¨)\n`;

        help += `*â€¢ [ .Ø±ÙŠÙ„ÙˆØ¯ ] :* Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØª\n\n`;
        
        help += `*â€â”«â”€â”€â”€âŒ© âš™ï¸ Ø§Ù„Ù€Ù†Ù€Ø¸Ù€Ø§Ù… âŒªâ”€â”€â”€â”£*\n\n`;
        help += `*â€¢ [ .Ø¨ÙˆØ§ ] :* Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n`;
        help += `*â€¢ [ .Ø§Ù„Ù…Ø·ÙˆØ± ] :* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø·ÙˆØ± Ø§Ù„Ø¨ÙˆØª\n`;
        help += `*â€¢ [ .Ù‚Ø± ] :* Ø±Ø§Ø¨Ø· Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¯Ø¹Ù…\n`;
        help += `*â€¢ [ .Ø´Ø§Øª ] :* Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ\n`;
        help += `*â€¢ [ .Ø³ØªÙŠÙƒØ± ] :* ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±/GIF Ù„Ù…Ù„ØµÙ‚\n`;
        help += `*â€¢ [ .Ø­Ù‚ÙˆÙ‚ ] :* ØªØºÙŠÙŠØ± Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ØµÙ‚\n\n`;

        help += `*â€â”«â”€â”€â”€âŒ© ğŸ’° Ø§Ù„Ù€Ø¨Ù€Ù†Ù€Ùƒ âŒªâ”€â”€â”€â”£*\n\n`;
        help += `*â€¢ [ .Ø§Ù†Ø´ ] :* Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙŠ Ø¬Ø¯ÙŠØ¯\n`;
        help += `*â€¢ [ .Ù…Ø­ ] :* Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ù…Ø­ÙØ¸ØªÙƒ\n`;
        help += `*â€¢ [ .Ø­Ø³ ] :* ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ\n`;
        help += `*â€¢ [ .Ø§ÙŠØ¯Ø§Ø¹ ] :* ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ù„Ø¨Ù†Ùƒ\n`;
        help += `*â€¢ [ .Ø³Ø­ ] :* Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ø¨Ù†Ùƒ Ù„Ù„Ù…Ø­ÙØ¸Ø©\n`;
        help += `*â€¢ [ .Ø§Ø³ ] :* Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø±ØµÙŠØ¯ (ÙƒÙ„ 30Ø¯)\n`;
        help += `*â€¢ [ .Ø±Ø§ ] :* Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø±Ø§ØªØ¨ (ÙƒÙ„ 10Ø¯)\n`;
        help += `*â€¢ [ .ØªØ­ÙˆÙŠÙ„ ] :* ØªØ­ÙˆÙŠÙ„ Ù…Ø§Ù„ÙŠ Ø¨Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨\n`;
        help += `*â€¢ [ .Ø²Ø±Ù ] :* Ù…Ø­Ø§ÙˆÙ„Ø© Ø³Ø±Ù‚Ø© (ÙƒÙ„ 20Ø¯)\n`;
        help += `*â€¢ [ .Ø§Ù„Ø§ØºÙ†ÙŠØ§Ø¡ ] :* Ù‚Ø§Ø¦Ù…Ø© ØªÙˆØ¨ 10 Ø£ØºÙ†ÙŠØ§Ø¡\n`;
        help += `*â€¢ [ .Ø­Ø° ] :* Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹\n`;
        help += `*â€¢ [ .Ùƒ ] :* Ø¹Ø±Ø¶ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ÙƒØ´Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©\n`;
        help += `*â€¢ [ .ÙƒØ´Ø· ] :* ÙƒØ´Ø· ÙƒÙˆØ¯ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¨Ù„Øº\n\n`;

        help += `*â€â”«â”€â”€â”€âŒ© ğŸ›’ Ø§Ù„Ù€Ù…Ù€ØªÙ€Ø¬Ù€Ø± âŒªâ”€â”€â”€â”£*

*â€¢ [ .Ù…ØªØ¬Ø± ] :* Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©
*â€¢ [ .Ø´Ø±Ø§Ø¡ ] :* Ø´Ø±Ø§Ø¡ Ø³Ù„Ø¹Ø© Ù…Ø­Ø¯Ø¯Ø©
*â€¢ [ .Ø­Ø¬Ø² ] :* Ø­Ø¬Ø² Ù…Ù†ØªØ¬ Ù„Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ (2500$)
*â€¢ [ .Ø´Ø± ] :* Ø´Ø±Ø§Ø¡ Ù…Ù†ØªØ¬ Ù…Ù† Ù…ØªØ¬Ø± Ù…Ø³ØªØ®Ø¯Ù…
*â€¢ [ .Ù…ØªØ¬Ø±ÙŠ ] :* Ø¹Ø±Ø¶ Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ Ø£Ùˆ Ù…ØªØ¬Ø± Ù…Ø³ØªØ®Ø¯Ù…
*â€¢ [ .Ù…Ù… ] :* Ø¹Ø±Ø¶ Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ©

*â€â”«â”€â”€â”€âŒ© ğŸ® Ø§Ù„Ù€ÙÙ€Ø¹Ù€Ø§Ù„Ù€ÙŠÙ€Ø§Øª âŒªâ”€â”€â”€â”£*

*â€¢ [ .ÙØ¹Ø§Ù„ÙŠÙ‡ Ù‚Ø§Ø¦Ù…Ù‡ ] :* Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‚Ø¯Ù…ÙŠ Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª
*â€¢ [ .ÙØ¹Ø§Ù„ÙŠÙ‡ Ù…Ù†Ø´ ] :* ÙØ¹Ø§Ù„ÙŠØ© Ù…Ù†Ø´Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (12 Ù…Ù†Ø´Ù†)
*â€¢ [ .ØªØ± ] :* ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
*â€¢ [ .ÙÙƒ ] :* ØªÙÙƒÙŠÙƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
*â€¢ [ .ÙƒØª ] :* Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø©
*â€¢ [ .Ø¹Ù„Ù… ] :* ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø£Ø¹Ù„Ø§Ù…
*â€¢ [ .Ø­ ] :* ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (ØªØ®Ù…ÙŠÙ†)
*â€¢ [ .Ø­ Ù ] :* ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (Ø³Ø±Ø¹Ø©)
*â€¢ [ .Ù„Ùˆ ] :* Ù„Ø¹Ø¨Ø© Ù„Ùˆ Ø®ÙŠØ±ÙˆÙƒ
*â€¢ [ .ÙƒÙƒ ] :* ØªØ­Ø¯ÙŠ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ
*â€¢ [ .Ø§ÙƒØ³ ] :* Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© XO
*â€¢ [ .Ø§Ùˆ ] :* Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø¹Ø¨Ø© XO
*â€¢ [ .ØªØ®Ø·ÙŠ ] :* ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n\n`;
        
        help += `*â€ã€ ğ‘¯ğ’‚ğ’ğ’„ğ’ğ’„ğ’Œ âŠ°â„ï¸âŠ± ğ‘©ğ’ğ’• ã€*`;
        m.reply(help);
    }},
    'Ø§Ù„Ù…Ø·ÙˆØ±': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø·ÙˆØ± Ø§Ù„Ø¨ÙˆØª', handler: async (sock, m) => {
        m.reply(`*ğŸ‘¤ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±*\n\nØ§Ù„Ø§Ø³Ù…: Ø´ÙˆØ´Ùˆ/Ù‡Ø§Ù†ÙƒÙˆÙƒ\nØ§Ù„Ø±Ù‚Ù…: 967781818508${footer}`);
    }},
    'Ù‚Ø±': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'Ø±Ø§Ø¨Ø· Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø¯Ø¹Ù…', handler: async (sock, m) => {
        m.reply(`*ğŸ§Š Ù…Ø¬Ù…ÙˆØ¹Ø© Ù‡Ø§Ù†ÙƒÙˆÙƒ Ø¨ÙˆØª Ø§Ù„Ø±Ø³Ù…ÙŠØ© ğŸ§Š*\n\nØ§Ù„Ø±Ø§Ø¨Ø·: https://chat.whatsapp.com/ICVM0HR7CJcK8t0WJrBJYy?mode=gi_t${footer}`);
    }},
    'Ø´Ø§Øª': { category: 'Ø§Ù„Ù†Ø¸Ø§Ù…', desc: 'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠ', handler: async (sock, m) => {
        const stats = getDB(STATS_DB);
        const groupStats = stats.users[jid] || {};
        const sorted = Object.entries(groupStats).sort((a, b) => b[1] - a[1]).slice(0, 10);
        if (sorted.length === 0) return m.reply('âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙØ§Ø¹Ù„ Ù…Ø³Ø¬Ù„ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.');
        let totalMsgs = Object.values(groupStats).reduce((a, b) => a + b, 0);
        let txt = `ğŸ“Š *ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ÙŠÙˆÙ… (${stats.date})*\n\nğŸ“ˆ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: ${totalMsgs}\n\n*ğŸ† ØªÙˆØ¨ Ø§Ù„Ù…ØªÙØ§Ø¹Ù„ÙŠÙ†:*\n`;
        sorted.forEach((u, i) => { txt += `${i + 1}. @${u[0].split('@')[0]} - ${u[1]} Ø±Ø³Ø§Ù„Ø©\n`; });
        m.reply(txt + footer, { mentions: sorted.map(u => u[0]) });
    }},

    // === Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨Ù†Ùƒ ===
    'Ø§Ù†Ø´': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙŠ Ø¬Ø¯ÙŠØ¯', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        if (users[sender]?.accNum) return m.reply(`âš ï¸ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„: ${users[sender].accNum}`);
        const acc = Math.floor(100000 + Math.random() * 900000);
        const currentWallet = users[sender]?.wallet || 0;
        users[sender] = { accNum: acc, wallet: currentWallet + 1000, balance: 0, items: users[sender]?.items || [], lastSalary: 0, lastInvest: 0, lastRob: 0, lastScratch: 0 };
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙŠ Ù…Ù…ÙŠØ²!\nØ±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: ${acc}\nÙ‡Ø¯ÙŠØ© Ø§ÙØªØªØ§Ø­: 1000$ ØªØ¶Ø§Ù Ù„Ù…Ø­ÙØ¸ØªÙƒ`);
    }},
    'Ù…Ø­': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ù…Ø­ÙØ¸ØªÙƒ', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        m.reply(`ğŸ‘› Ù…Ø­ÙØ¸ØªÙƒ: ${users[sender]?.wallet || 0}$`);
    }},
    'Ø­Ø³': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„Ø¨Ù†ÙƒÙŠ', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        const u = users[sender];
        if (!u?.accNum) return m.reply('âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨. Ø§ÙƒØªØ¨ .Ø§Ù†Ø´');
        m.reply(`ğŸ¦ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨*\n\nØ±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨: ${u.accNum}\nØ§Ù„Ø¨Ù†Ùƒ: ${u.balance}$\nØ§Ù„Ù…Ø­ÙØ¸Ø©: ${u.wallet}$${footer}`);
    }},
    'Ø§ÙŠØ¯Ø§Ø¹': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ù„Ø¨Ù†Ùƒ', handler: async (sock, m, args, sender) => {
        const amount = parseInt(args[0]);
        let users = getDB(USERS_DB);
        if (isNaN(amount) || (users[sender]?.wallet || 0) < amount) return m.reply('âŒ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø© ØºÙŠØ± ÙƒØ§ÙÙ\nØ§Ù„Ø´Ø±Ø­: .Ø§ÙŠØ¯Ø§Ø¹ <Ø§Ù„Ù…Ø¨Ù„Øº>');
        users[sender].wallet -= amount;
        users[sender].balance = Math.min(users[sender].balance + amount, BANK_CAP);
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… Ø§ÙŠØ¯Ø§Ø¹ ${amount}$ ÙÙŠ Ø§Ù„Ø¨Ù†Ùƒ.`);
    }},
    'Ø³Ø­': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ø¨Ù†Ùƒ Ù„Ù„Ù…Ø­ÙØ¸Ø©', handler: async (sock, m, args, sender) => {
        const amount = parseInt(args[0]);
        let users = getDB(USERS_DB);
        if (isNaN(amount) || (users[sender]?.balance || 0) < amount) return m.reply('âŒ Ø±ØµÙŠØ¯ Ø§Ù„Ø¨Ù†Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ\nØ§Ù„Ø´Ø±Ø­: .Ø³Ø­ <Ø§Ù„Ù…Ø¨Ù„Øº>');
        users[sender].balance -= amount; users[sender].wallet += amount;
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… Ø³Ø­Ø¨ ${amount}$ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø©.`);
    }},
    'Ø§Ø³': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø±ØµÙŠØ¯ (ÙƒÙ„ 30Ø¯)', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        const amount = parseInt(args[0]);
        if (!users[sender] || isNaN(amount) || amount > users[sender].balance) return m.reply('âŒ Ø±ØµÙŠØ¯ Ø§Ù„Ø¨Ù†Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ\nØ§Ù„Ø´Ø±Ø­: .Ø§Ø³ <Ø§Ù„Ù…Ø¨Ù„Øº>');
        const now = Date.now();
        if (now - (users[sender].lastInvest || 0) < 30 * 60 * 1000) return m.reply('â³ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± ÙƒÙ„ 30 Ø¯Ù‚ÙŠÙ‚Ø©');
        
        const win = Math.random() > 0.5;
        let profit;
        if (win) {
            // Ø±Ø¨Ø­ Ø¨Ù†Ø³Ø¨Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø£Ù‚ØµØ§Ù‡Ø§ 30%
            const percentage = (Math.random() * 30) / 100;
            profit = Math.floor(amount * percentage);
            users[sender].balance = Math.min(users[sender].balance + profit, BANK_CAP);
        } else {
            profit = -amount;
            users[sender].balance = Math.max(users[sender].balance + profit, 0);
        }
        
        users[sender].lastInvest = now;
        saveDB(USERS_DB, users);
        m.reply(win ? `ğŸ“ˆ Ø§Ø³ØªØ«Ù…Ø§Ø± Ù†Ø§Ø¬Ø­! Ø±Ø¨Ø­Øª ${profit}$ (Ø¨Ù†Ø³Ø¨Ø© Ø±Ø¨Ø­ Ù…Ù…ÙŠØ²Ø©)` : `ğŸ“‰ Ø§Ø³ØªØ«Ù…Ø§Ø± ÙØ§Ø´Ù„! Ø®Ø³Ø±Øª ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ«Ù…Ø± ${Math.abs(profit)}$`);
    }},
    'Ø±Ø§': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø±Ø§ØªØ¨ (ÙƒÙ„ 10Ø¯)', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        if (!users[sender]) return m.reply('âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨. Ø§ÙƒØªØ¨ .Ø§Ù†Ø´');
        const now = Date.now();
        if (now - (users[sender].lastSalary || 0) < 10 * 60 * 1000) return m.reply('â³ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø±Ø§ØªØ¨ ÙƒÙ„ 10 Ø¯Ù‚Ø§Ø¦Ù‚');
        const salary = 500;
        users[sender].wallet += salary;
        users[sender].lastSalary = now;
        saveDB(USERS_DB, users); m.reply(`ğŸ’µ ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø§ØªØ¨Ùƒ: ${salary}$ Ø£Ø¶ÙŠÙØª Ù„Ù…Ø­ÙØ¸ØªÙƒ.`);
    }},
    'ØªØ­ÙˆÙŠÙ„': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'ØªØ­ÙˆÙŠÙ„ Ù…Ø§Ù„ÙŠ Ø¨Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨', handler: async (sock, m, args, sender) => {
        const amount = parseInt(args[0]);
        const targetAcc = parseInt(args[1]);
        let users = getDB(USERS_DB);
        if (isNaN(amount) || isNaN(targetAcc) || (users[sender]?.balance || 0) < amount) return m.reply('âŒ Ø±ØµÙŠØ¯ Ø§Ù„Ø¨Ù†Ùƒ ØºÙŠØ± ÙƒØ§ÙÙ Ø£Ùˆ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©\nØ§Ù„Ø´Ø±Ø­: .ØªØ­ÙˆÙŠÙ„ <Ø§Ù„Ù…Ø¨Ù„Øº> <Ø±Ù‚Ù…_Ø§Ù„Ø­Ø³Ø§Ø¨>');
        let targetJid = Object.keys(users).find(k => users[k].accNum === targetAcc);
        if (!targetJid) return m.reply('âŒ Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­');
        if (targetJid === sender) return m.reply('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù†ÙØ³Ùƒ');
        users[sender].balance -= amount;
        users[targetJid].balance = Math.min(users[targetJid].balance + amount, BANK_CAP);
        saveDB(USERS_DB, users); m.reply(`âœ… ØªÙ… ØªØ­ÙˆÙŠÙ„ ${amount}$ Ù„Ù„Ø­Ø³Ø§Ø¨ ${targetAcc}`);
    }},
    'Ø²Ø±Ù': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ù…Ø­Ø§ÙˆÙ„Ø© Ø³Ø±Ù‚Ø© (ÙƒÙ„ 20Ø¯)', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        if (!users[sender]) return m.reply('âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨. Ø§ÙƒØªØ¨ .Ø§Ù†Ø´');
        const now = Date.now();
        if (now - (users[sender].lastRob || 0) < 20 * 60 * 1000) return m.reply('â³ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ÙƒÙ„ 20 Ø¯Ù‚ÙŠÙ‚Ø©');
        let target = m.message?.extendedTextMessage?.contextInfo?.participant || m.message?.extendedTextMessage?.contextInfo?.mentionedJid?.[0];
        if (!target || !users[target]) return m.reply('âŒ Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø´Ø®Øµ Ø£Ùˆ Ù…Ù†Ø´Ù†Ù‡ Ù„Ø²Ø±ÙÙ‡');
        if (target === sender) return m.reply('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø²Ø±Ù Ù†ÙØ³Ùƒ!');
        
        users[sender].lastRob = now;
        const success = Math.random() > 0.5; // Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© ÙÙˆØ² ÙˆØ®Ø³Ø§Ø±Ø© Ù…ØªØ³Ø§ÙˆÙŠØ©
        if (success) {
            let amount = Math.floor((users[target].wallet || 0) * 0.2);
            if (amount > 3000) amount = 3000; // Ø£ÙƒØ¨Ø± Ù…Ø¨Ù„Øº ÙŠÙ…ÙƒÙ† Ø³Ø±Ù‚ØªÙ‡ 3000
            
            if (amount <= 0) return m.reply('âŒ Ù‡Ø°Ø§ Ø§Ù„Ø´Ø®Øµ Ù…ÙÙ„Ø³ØŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø§ ØªØ³Ø±Ù‚Ù‡!');
            users[target].wallet -= amount;
            users[sender].wallet += amount;
            saveDB(USERS_DB, users); m.reply(`ğŸ’° Ù†Ø¬Ø­Øª ÙÙŠ Ø²Ø±Ù @${target.split('@')[0]} ÙˆØ³Ø±Ù‚Øª ${amount}$!`, { mentions: [target] });
        } else {
            const fine = 1000;
            users[sender].wallet = Math.max((users[sender].wallet || 0) - fine, 0);
            saveDB(USERS_DB, users); m.reply(`ğŸ‘® ÙƒØ¨Ø³ØªÙƒ Ø§Ù„Ø´Ø±Ø·Ø©! ØªÙ… ØªØºØ±ÙŠÙ…Ùƒ ${fine}$ Ù„ÙØ´Ù„Ùƒ ÙÙŠ Ø§Ù„Ø³Ø±Ù‚Ø©.`);
        }
    }},
    'Ø§Ù„Ø§ØºÙ†ÙŠØ§Ø¡': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ù‚Ø§Ø¦Ù…Ø© ØªÙˆØ¨ 10 Ø£ØºÙ†ÙŠØ§Ø¡', handler: async (sock, m) => {
        let users = getDB(USERS_DB);
        const sorted = Object.entries(users).sort((a, b) => ((b[1].balance || 0) + (b[1].wallet || 0)) - ((a[1].balance || 0) + (a[1].wallet || 0))).slice(0, 10);
        let txt = `ğŸ† *Ù‚Ø§Ø¦Ù…Ø© Ø£ØºÙ†ÙŠØ§Ø¡ Ù‡Ø§Ù†ÙƒÙˆÙƒ (TOP 10):*\n\n`;
        sorted.forEach((u, i) => {
            const total = (u[1].balance || 0) + (u[1].wallet || 0);
            txt += `${i + 1}. @${u[0].split('@')[0]} - ${total.toLocaleString()}$\n`;
        });
        m.reply(txt + footer, { mentions: sorted.map(u => u[0]) });
    }},
    'Ø­Ø°': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        if (!users[sender]) return m.reply('âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø£ØµÙ„Ø§Ù‹.');
        delete users[sender];
        saveDB(USERS_DB, users); m.reply('âœ… ØªÙ… Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ ÙˆØ¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø¨Ù†ÙƒÙŠØ© Ø¨Ù†Ø¬Ø§Ø­.');
    }},
    'Ùƒ': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'Ø¹Ø±Ø¶ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ÙƒØ´Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©', handler: async (sock, m) => {
        let settings = getDB(SETTINGS_DB);
        updateScratchCodes(settings);
        let txt = `ğŸ« *Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ÙƒØ´Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©*\n\n`;
        settings.scratchCodes.forEach((c, i) => {
            txt += `${i + 1}. [ ${c.used ? 'âŒ Ù…ÙØ³ØªØ®Ø¯Ù…' : 'âœ¨ Ù…ØªØ§Ø­'} ]\n`;
        });
        txt += `\nÙ„Ù„ÙƒØ´Ø· Ø£Ø±Ø³Ù„: .ÙƒØ´Ø· <Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯>${footer}`;
        m.reply(txt);
    }},
    'ÙƒØ´Ø·': { category: 'Ø§Ù„Ø¨Ù†Ùƒ', desc: 'ÙƒØ´Ø· ÙƒÙˆØ¯ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¨Ù„Øº', handler: async (sock, m, args, sender) => {
        const idx = parseInt(args[0]) - 1;
        let settings = getDB(SETTINGS_DB);
        updateScratchCodes(settings);
        if (isNaN(idx) || !settings.scratchCodes[idx]) return m.reply('âŒ Ø±Ù‚Ù… Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­');
        if (settings.scratchCodes[idx].used) return m.reply('âš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ù„ÙØ¹Ù„');
        
        let users = getDB(USERS_DB);
        const today = new Date().toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'});
        if (users[sender]?.lastScratchDate === today) return m.reply('â³ Ù„Ù‚Ø¯ Ø§Ø³ØªØ®Ø¯Ù…Øª ÙƒÙˆØ¯ ÙƒØ´Ø· Ø§Ù„ÙŠÙˆÙ…ØŒ Ø¹Ø¯ ØºØ¯Ø§Ù‹!');
        
        if (!users[sender]) users[sender] = { wallet: 0, balance: 0, items: [] };
        
        const amount = settings.scratchCodes[idx].amount;
        users[sender].balance += amount;
        users[sender].lastScratchDate = today;
        settings.scratchCodes[idx].used = true;
        
        saveDB(SETTINGS_DB, settings);
        saveDB(USERS_DB, users);
        m.reply(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! ÙƒØ´Ø·Øª Ø§Ù„ÙƒÙˆØ¯ ÙˆØ­ØµÙ„Øª Ø¹Ù„Ù‰ ${amount}$ Ø£Ø¶ÙŠÙØª Ù„Ø¨Ù†ÙƒÙƒ.`);
    }},

    // === Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ø­Ø¬Ø² ===
    'Ù…ØªØ¬Ø±': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©', handler: async (sock, m) => {
        let txt = `ğŸ›’ *Ù…ØªØ¬Ø± Ù‡Ø§Ù†ÙƒÙˆÙƒ*\n\n`;
        shopItems.forEach(i => txt += `${i.id}. ${i.name} - ${i.price}$\n`);
        m.reply(txt + `\nÙ„Ù„Ø´Ø±Ø§Ø¡: .Ø´Ø±Ø§Ø¡ <Ø±Ù‚Ù… Ø§Ù„Ø³Ù„Ø¹Ø©>${footer}`);
    }},
    'Ø´Ø±Ø§Ø¡': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø´Ø±Ø§Ø¡ Ø³Ù„Ø¹Ø© Ù…Ø­Ø¯Ø¯Ø©', handler: async (sock, m, args, sender) => {
        const id = parseInt(args[0]);
        const item = shopItems.find(i => i.id === id);
        if (!item) return m.reply('âŒ Ø±Ù‚Ù… Ø§Ù„Ø³Ù„Ø¹Ø© Ø®Ø·Ø£\nØ§Ù„Ø´Ø±Ø­: .Ø´Ø±Ø§Ø¡ <Ø±Ù‚Ù…_Ø§Ù„Ø³Ù„Ø¹Ø©>');
        let users = getDB(USERS_DB);
        if (!users[sender] || users[sender].wallet < item.price) return m.reply('âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ù…Ø§Ù„ ÙƒØ§ÙÙ ÙÙŠ Ø§Ù„Ù…Ø­ÙØ¸Ø©');
        users[sender].wallet -= item.price;
        if (!users[sender].items) users[sender].items = [];
        users[sender].items.push(item.name);
        saveDB(USERS_DB, users); m.reply(`âœ… Ù…Ø¨Ø±ÙˆÙƒ! Ø§Ø´ØªØ±ÙŠØª ${item.name}`);
    }},
    
    'Ù…Ù…': { category: 'Ø§Ù„Ù…ØªØ¬Ø±', desc: 'Ø¹Ø±Ø¶ Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ Ø§Ù„Ø®Ø§ØµØ©', handler: async (sock, m, args, sender) => {
        let users = getDB(USERS_DB);
        const items = users[sender]?.items || [];
        if (items.length === 0) return m.reply('ğŸ“¦ Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ ÙØ§Ø±ØºØ© Ø­Ø§Ù„ÙŠØ§Ù‹.');
        const counts = {};
        items.forEach(i => counts[i] = (counts[i] || 0) + 1);
        let txt = `ğŸ“¦ *Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ:*\n\n`;
        for (let name in counts) txt += `- ${name} (${counts[name]})\n`;
        m.reply(txt + footer);
    }},

    // === Ø£ÙˆØ§Ù…Ø± Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª ===
    'ØªØ®Ø·ÙŠ': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ØªØ¬Ø§ÙˆØ² Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©', handler: async (sock, m) => {
        let games = getDB(GAMES_DB);
        if (!games[m.key.remoteJid]) return m.reply('âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù„Ø¹Ø¨Ø© Ø¬Ø§Ø±ÙŠØ©');
        delete games[m.key.remoteJid]; saveDB(GAMES_DB, games); m.reply('âœ… ØªÙ… ØªØ®Ø·ÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©');
    }},
    'ØªØ±': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ØªØ±ØªÙŠØ¨ Ø§Ù„ÙƒÙ„Ù…Ø§Øª', handler: async (sock, m, args, sender) => {
        startActivity(sock, m, 'ØªØ±ØªÙŠØ¨', animeChars[Math.floor(Math.random() * animeChars.length)], (word) => word.split('').sort(() => 0.5 - Math.random()).join(''), sender);
    }},
    'ÙÙƒ': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ØªÙÙƒÙŠÙƒ Ø§Ù„ÙƒÙ„Ù…Ø§Øª', handler: async (sock, m, args, sender) => {
        startActivity(sock, m, 'ØªÙÙƒÙŠÙƒ', animeChars[Math.floor(Math.random() * animeChars.length)], (word) => word, sender, true);
    }},
    'ÙƒØª': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø©', handler: async (sock, m, args, sender) => {
        startActivity(sock, m, 'ÙƒØªØ§Ø¨Ø©', animeChars[Math.floor(Math.random() * animeChars.length)], (word) => word, sender);
    }},
    'Ø¹Ù„Ù…': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø£Ø¹Ù„Ø§Ù…', handler: async (sock, m, args, sender) => {
        const emojis = Object.keys(flagsData);
        const emoji = emojis[Math.floor(Math.random() * emojis.length)];
        startActivity(sock, m, 'Ø§Ù„Ø§Ø¹Ù„Ø§Ù…', flagsData[emoji], () => emoji, sender);
    }},
    'Ø­': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ÙØ¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (ØªØ®Ù…ÙŠÙ†)', handler: async (sock, m, args, sender) => {
        if (args[0] === 'Ù') {
            const emoji = emojisList[Math.floor(Math.random() * emojisList.length)];
            startActivity(sock, m, 'Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ', emoji, () => emoji, sender, false, true);
        } else {
            const emojis = Object.keys(emojiData);
            const emoji = emojis[Math.floor(Math.random() * emojis.length)];
            startActivity(sock, m, 'Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ', emojiData[emoji], () => emoji, sender, false, true);
        }
    }},
    'Ù„Ùˆ': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'Ù„Ø¹Ø¨Ø© Ù„Ùˆ Ø®ÙŠØ±ÙˆÙƒ', handler: async (sock, m) => {
        const q = wouldYouRather[Math.floor(Math.random() * wouldYouRather.length)];
        m.reply(`*â”‡â¦Ù„Ùˆ Ø®ÙŠØ±ÙˆÙƒâ¦â”‡*\n\n*â„ï¸â”‡Ø§Ù„Ø³Ø¤Ø§Ù„: ${q}â¤¹*${footer}`);
    }},
    'ÙƒÙƒ': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'ØªØ­Ø¯ÙŠ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ', handler: async (sock, m, args, sender) => {
        const quiz = animeQuiz[Math.floor(Math.random() * animeQuiz.length)];
        startActivity(sock, m, 'Ø£Ø³Ø¦Ù„Ø© Ø£Ù†Ù…ÙŠ', quiz.a, () => quiz.q, sender);
    }},
    'Ø§ÙƒØ³': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© XO', handler: async (sock, m, args, sender) => {
        let games = getDB(GAMES_DB);
        const jid = m.key.remoteJid;
        if (games[jid]) return m.reply('âš ï¸ Ù‡Ù†Ø§Ùƒ Ù„Ø¹Ø¨Ø© Ø¬Ø§Ø±ÙŠØ© Ø¨Ø§Ù„ÙØ¹Ù„! Ø§ÙƒØªØ¨ .ØªØ®Ø·ÙŠ');
        games[jid] = { type: 'xo', p1: sender, p2: null, board: ['1','2','3','4','5','6','7','8','9'], turn: sender, status: 'waiting' };
        saveDB(GAMES_DB, games);
        m.reply(`*â”‡â¦Ù„Ø¹Ø¨Ø© XOâ¦â”‡*\n\n*â„ï¸â”‡ØªÙ… ÙØªØ­ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©!â¤¹*\n*â„ï¸â”‡Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø§Ø¹Ø¨ Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù… (Ø£Ø±Ø³Ù„ ".Ø§Ùˆ")â¤¹*${footer}`);
    }},
    'Ø§Ùˆ': { category: 'Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª', desc: 'Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ù„Ù„Ø¹Ø¨Ø© XO', handler: async (sock, m, args, sender) => {
        let games = getDB(GAMES_DB);
        const jid = m.key.remoteJid;
        if (!games[jid] || games[jid].type !== 'xo') return m.reply('âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù„Ø¹Ø¨Ø© XO Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø§Ø¹Ø¨ÙŠÙ†.');
        if (games[jid].p1 === sender) return m.reply('âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø¹ Ù†ÙØ³Ùƒ!');
        if (games[jid].status !== 'waiting') return m.reply('âŒ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¯Ø£Øª Ø¨Ø§Ù„ÙØ¹Ù„.');
        games[jid].p2 = sender; games[jid].status = 'playing'; saveDB(GAMES_DB, games);
        const board = games[jid].board;
        const msg = `*â”‡â¦Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø©â¦â”‡*\n\n${renderBoard(board)}\n\n*â„ï¸â”‡Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¢Ù† Ù„Ù€: @${games[jid].turn.split('@')[0]}â¤¹*\n*â„ï¸â”‡Ø£Ø±Ø³Ù„ Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¨Ø¹ (1-9) Ù„Ù„Ø¹Ø¨â¤¹*${footer}`;
        m.reply(msg, { mentions: [games[jid].turn] });
    }}
};

function updateScratchCodes(settings) {
    const now = new Date();
    const todayStr = now.toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'});
    if (settings.lastCodeUpdateDate !== todayStr) {
        settings.scratchCodes = [];
        for (let i = 0; i < 10; i++) {
            const code = Math.random().toString(36).substring(2, 8).toUpperCase();
            const amount = Math.floor(Math.random() * 100000) + 1; // Ø£ÙƒØ¨Ø± ÙƒÙˆØ¯ 100 Ø£Ù„Ù
            settings.scratchCodes.push({ code, amount, used: false });
        }
        settings.lastCodeUpdateDate = todayStr;
        saveDB(SETTINGS_DB, settings);
    }
}

async function startActivity(sock, m, title, answer, displayFn, sender, isFakik = false, isEmoji = false) {
    let games = getDB(GAMES_DB);
    const jid = m.key.remoteJid;
    if (games[jid]) return m.reply('âš ï¸ Ù‡Ù†Ø§Ùƒ Ù„Ø¹Ø¨Ø© Ø¬Ø§Ø±ÙŠØ© Ø¨Ø§Ù„ÙØ¹Ù„! Ø§ÙƒØªØ¨ .ØªØ®Ø·ÙŠ');
    
    let msg;
    const presenter = `@${sender.split('@')[0]}`;
    if (isEmoji) {
        msg = `*â”‡â¦ÙØ¹Ù€ğŸƒÙ€Ø§Ù„ÙŠØ© Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠâ¦â”‡*\n\n*â„ï¸â”‡Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© ğŸ’µâ”‡50$â¤¹*\n*â„ï¸â”‡Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠâ”‡${displayFn()}â¤¹*\n*â„ï¸â”‡Ø§Ù„Ù…Ù‚Ø¯Ù… â”‡${presenter} â¤¹*${footer}`;
    } else {
        const display = displayFn(answer);
        msg = `*â”‡â¦ÙØ¹Ù€ğŸƒÙ€Ø§Ù„ÙŠØ© ${title}â¦â”‡*\n\n*â„ï¸â”‡Ø§Ù„Ø¬Ø§Ø¦Ø²Ø© ğŸ’µâ”‡50$â¤¹*\n*â„ï¸â”‡Ø§Ù„Ø³Ø¤Ø§Ù„â”‡${display}â¤¹*\n*â„ï¸â”‡Ø§Ù„Ù…Ù‚Ø¯Ù… â”‡${presenter} â¤¹*${footer}`;
    }
    
    games[jid] = { type: 'Ù„Ø¹Ø¨Ø©', answer: answer, startTime: Date.now(), isFakik: isFakik, presenter: sender };
    saveDB(GAMES_DB, games);
    m.reply(msg, { mentions: [sender] });
    setTimeout(async () => {
        let currentGames = getDB(GAMES_DB);
        if (currentGames[jid] && currentGames[jid].answer === answer) {
            delete currentGames[jid]; saveDB(GAMES_DB, currentGames);
            await sock.sendMessage(jid, { text: `â³ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ù„Ù… ÙŠÙ‚Ù… Ø£Ø­Ø¯ Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©.\nâœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: *${answer}*` });
        }
    }, 60000);
}

function renderBoard(b) {
    const map = { '1': '1ï¸âƒ£', '2': '2ï¸âƒ£', '3': '3ï¸âƒ£', '4': '4ï¸âƒ£', '5': '5ï¸âƒ£', '6': '6ï¸âƒ£', '7': '7ï¸âƒ£', '8': '8ï¸âƒ£', '9': '9ï¸âƒ£', 'X': 'âŒ', 'O': 'â­•' };
    return `${map[b[0]]}${map[b[1]]}${map[b[2]]}\n${map[b[3]]}${map[b[4]]}${map[b[5]]}\n${map[b[6]]}${map[b[7]]}${map[b[8]]}`;
}

function checkWinner(b) {
    const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    for (let w of wins) if (b[w[0]] === b[w[1]] && b[w[1]] === b[w[2]]) return b[w[0]];
    return b.every(s => s === 'X' || s === 'O') ? 'tie' : null;
}

function cleanText(t) {
    if (!t) return '';
    return t.trim().toLowerCase()
        .replace(/[Ø£Ø¥Ø¢]/g, 'Ø§')
        .replace(/Ø©/g, 'Ù‡')
        .replace(/[Ù‰]/g, 'ÙŠ');
}

export async function sendAutoZikr(sock) {
    const settings = getDB(SETTINGS_DB);
    if (!settings.zikrActive) return;
    
    const zikr = azkar[Math.floor(Math.random() * azkar.length)];
    const stats = getDB(STATS_DB);
    const groups = Object.keys(stats.users).filter(jid => jid.endsWith('@g.us'));
    
    for (const jid of groups) {
        if (settings.zikrGroups && settings.zikrGroups.length > 0) {
            if (!settings.zikrGroups.includes(jid)) continue;
        }
        
        try {
            await sock.sendMessage(jid, { text: `*ğŸ•‹ Ø°ÙƒØ± Ø§Ù„Ù„Ù‡ Ø·Ù…Ø£Ù†ÙŠÙ†Ø© ğŸ•‹*\n\n${zikr}${footer}` });
        } catch (e) {}
    }
}

export async function handleMessage(sock, m, ownerNum, ownerPhone) {
    const prefix = '.';
    const isGroup = m.key.remoteJid.endsWith('@g.us');
    const jid = m.key.remoteJid;
    const sender = m.key.fromMe ? (ownerPhone + '@s.whatsapp.net') : (isGroup ? m.key.participant : m.key.remoteJid);
    const body = m.message?.conversation || m.message?.extendedTextMessage?.text || '';
    
    const settings = getDB(SETTINGS_DB);
    const owners = ['967781818508'];
    const senderNumber = sender.split('@')[0].replace(/[^0-9]/g, '');
    const isOwner = owners.some(o => senderNumber === o.replace(/[^0-9]/g, ''));
    
    let stats = getDB(STATS_DB);
    const today = new Date().toLocaleDateString('en-US', {timeZone: 'Asia/Riyadh'});
    
    if (stats.date !== today) {
        if (settings.rewardGroups && settings.rewardGroups.length > 0) {
            for (const groupJid of settings.rewardGroups) {
                try {
                    const groupStats = stats.users[groupJid] || {};
                    const sorted = Object.entries(groupStats).sort((a, b) => b[1] - a[1]).slice(0, 3);
                    if (sorted.length > 0) {
                        let users = getDB(USERS_DB);
                        let rewardMsg = `ğŸŠ *Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (${stats.date})* ğŸŠ\n\n`;
                        const rewards = [10000, 7000, 5000];
                        sorted.forEach((u, i) => {
                            const reward = rewards[i];
                            if (!users[u[0]]) users[u[0]] = { wallet: 0, balance: 0, items: [] };
                            users[u[0]].balance += reward;
                            rewardMsg += `${i+1}. @${u[0].split('@')[0]} ÙØ§Ø² Ø¨Ù€ ${reward}$\n`;
                        });
                        saveDB(USERS_DB, users);
                        await sock.sendMessage(groupJid, { text: rewardMsg + footer, mentions: sorted.map(u => u[0]) });
                    }
                } catch (e) { console.error(`Error sending rewards to ${groupJid}:`, e); }
            }
        }
        stats = { date: today, users: {} };
        saveDB(STATS_DB, stats);
    }
    
    if (!stats.users[jid]) stats.users[jid] = {};
    stats.users[jid][sender] = (stats.users[jid][sender] || 0) + 1;
    saveDB(STATS_DB, stats);

    const safeSend = async (jid, content, options = {}) => {
        await sock.readMessages([m.key]);
        await sock.sendPresenceUpdate('composing', jid);
        const delay = Math.min(Math.max(body.length * 50, 1500), 4000);
        await new Promise(r => setTimeout(r, delay));
        return sock.sendMessage(jid, content, { quoted: m, ...options });
    };
    m.reply = (text, options = {}) => safeSend(m.key.remoteJid, { text, ...options });

    let users = getDB(USERS_DB);
    let auth = getDB(AUTH_DB);
    let replies = getDB(REPLIES_DB);

    if (users[sender]) {
        const totalWealth = (users[sender].balance || 0) + (users[sender].wallet || 0);
        if (totalWealth >= 70000 && !auth.includes(sender)) {
            auth.push(sender); saveDB(AUTH_DB, auth);
            m.reply(`ğŸŠ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ @${sender.split('@')[0]}! Ù„Ù‚Ø¯ ÙˆØµÙ„Øª Ø«Ø±ÙˆØªÙƒ Ø¥Ù„Ù‰ 70,000$ ÙˆØªÙ… Ù…Ù†Ø­Ùƒ Ø±ØªØ¨Ø© "Ø§Ù„Ù†Ø®Ø¨Ø©" ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!`, { mentions: [sender] });
        }
    }

    const games = getDB(GAMES_DB);
    const active = games[jid];

    if (active && active.type === 'Ù„Ø¹Ø¨Ø©') {
        let isCorrect = false;
        if (active.isFakik) {
            const spacedAnswer = active.answer.split('').join(' ');
            if (body.trim() === spacedAnswer) isCorrect = true;
        } else {
            if (cleanText(body) === cleanText(active.answer)) isCorrect = true;
        }

        if (isCorrect) {
            const time = ((Date.now() - active.startTime) / 1000).toFixed(2);
            const presenter = active.presenter;
            
            delete games[jid]; saveDB(GAMES_DB, games);
            if (!users[sender]) users[sender] = { wallet: 0, balance: 0, items: [] };
            users[sender].wallet += 50; 
            
            // Ø¬Ø§Ø¦Ø²Ø© Ø§Ù„Ù…Ù‚Ø¯Ù… 50 ØªÙ†Ø¶Ø§Ù Ù„Ù…Ø­ÙØ¸ØªÙ‡ Ø¨Ø¯ÙˆÙ† Ø§ÙŠ Ø§Ø´Ø¹Ø§Ø±
            if (presenter && users[presenter]) {
                users[presenter].wallet += 50;
            }
            
            saveDB(USERS_DB, users);
            m.reply(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©.\nØ§Ù„ÙØ§Ø¦Ø²: @${sender.split('@')[0]}\nØ§Ù„ÙˆÙ‚Øª: ${time} Ø«Ø§Ù†ÙŠØ©\nØ§Ù„Ø¬Ø§Ø¦Ø²Ø©: 50$`, { mentions: [sender] });
            return;
        }
    }

    if (active && active.type === 'xo' && active.status === 'playing') {
        if (sender !== active.turn) return;
        const move = parseInt(body.trim());
        if (isNaN(move) || move < 1 || move > 9 || active.board[move-1] === 'X' || active.board[move-1] === 'O') return;
        const mark = sender === active.p1 ? 'X' : 'O';
        active.board[move-1] = mark;
        const winner = checkWinner(active.board);
        if (winner) {
            const boardMsg = renderBoard(active.board);
            if (winner === 'tie') { m.reply(`ğŸ¤ ØªØ¹Ø§Ø¯Ù„!\n\n${boardMsg}${footer}`); } 
            else {
                const winPlayer = winner === 'X' ? active.p1 : active.p2;
                if (!users[winPlayer]) users[winPlayer] = { wallet: 0, balance: 0, items: [] };
                users[winPlayer].wallet += 200; saveDB(USERS_DB, users);
                m.reply(`ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ Ø§Ù„ÙÙˆØ² @${winPlayer.split('@')[0]}!\nÙ„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø¬Ø§Ø¦Ø²Ø© 200$\n\n${boardMsg}${footer}`, { mentions: [winPlayer] });
            }
            delete games[jid];
        } else {
            active.turn = sender === active.p1 ? active.p2 : active.p1;
            const boardMsg = renderBoard(active.board);
            m.reply(`${boardMsg}\n\n*â„ï¸â”‡Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¢Ù† Ù„Ù€: @${active.turn.split('@')[0]}â¤¹*`, { mentions: [active.turn] });
        }
        saveDB(GAMES_DB, games);
        return;
    }

    if (!isOwner && !auth.includes(sender)) return;
    if (m.key.fromMe && !isOwner) return;
    if (!settings.active && !isOwner) return;

    if (!body.startsWith(prefix)) return;
    const [command, ...args] = body.slice(prefix.length).trim().split(/\s+/);
    const cmd = command.toLowerCase();

    if (commands[cmd]) {
        const category = commands[cmd].category;
        if (category === 'Ø§Ù„Ù…Ø§Ù„Ùƒ' && !isOwner) return;
        try { await commands[cmd].handler(sock, m, args, sender, ownerPhone); } catch (e) { console.error(e); }
    }
}
